"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const jt=require("@react-querybuilder/ctx"),le=require("react"),Vt=require("immer"),Fs="5.4.0";var zt={},Ms={get exports(){return zt},set exports(e){zt=e}},Ut={};var wn;function js(){if(wn)return Ut;wn=1;var e=le,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function E(h,u,S){var b,m={},C=null,s=null;S!==void 0&&(C=""+S),u.key!==void 0&&(C=""+u.key),u.ref!==void 0&&(s=u.ref);for(b in u)n.call(u,b)&&!c.hasOwnProperty(b)&&(m[b]=u[b]);if(h&&h.defaultProps)for(b in u=h.defaultProps,u)m[b]===void 0&&(m[b]=u[b]);return{$$typeof:t,type:h,key:C,ref:s,props:m,_owner:o.current}}return Ut.Fragment=r,Ut.jsx=E,Ut.jsxs=E,Ut}var Ht={};var Pn;function Ws(){return Pn||(Pn=1,process.env.NODE_ENV!=="production"&&function(){var e=le,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),h=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),s=Symbol.for("react.offscreen"),g=Symbol.iterator,v="@@iterator";function p(l){if(l===null||typeof l!="object")return null;var L=g&&l[g]||l[v];return typeof L=="function"?L:null}var y=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(l){{for(var L=arguments.length,D=new Array(L>1?L-1:0),ae=1;ae<L;ae++)D[ae-1]=arguments[ae];d("error",l,D)}}function d(l,L,D){{var ae=y.ReactDebugCurrentFrame,Oe=ae.getStackAddendum();Oe!==""&&(L+="%s",D=D.concat([Oe]));var Le=D.map(function(Re){return String(Re)});Le.unshift("Warning: "+L),Function.prototype.apply.call(console[l],console,Le)}}var f=!1,_=!1,N=!1,k=!1,P=!1,A;A=Symbol.for("react.module.reference");function Q(l){return!!(typeof l=="string"||typeof l=="function"||l===n||l===c||P||l===o||l===S||l===b||k||l===s||f||_||N||typeof l=="object"&&l!==null&&(l.$$typeof===C||l.$$typeof===m||l.$$typeof===E||l.$$typeof===h||l.$$typeof===u||l.$$typeof===A||l.getModuleId!==void 0))}function T(l,L,D){var ae=l.displayName;if(ae)return ae;var Oe=L.displayName||L.name||"";return Oe!==""?D+"("+Oe+")":D}function x(l){return l.displayName||"Context"}function w(l){if(l==null)return null;if(typeof l.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case n:return"Fragment";case r:return"Portal";case c:return"Profiler";case o:return"StrictMode";case S:return"Suspense";case b:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case h:var L=l;return x(L)+".Consumer";case E:var D=l;return x(D._context)+".Provider";case u:return T(l,l.render,"ForwardRef");case m:var ae=l.displayName||null;return ae!==null?ae:w(l.type)||"Memo";case C:{var Oe=l,Le=Oe._payload,Re=Oe._init;try{return w(Re(Le))}catch{return null}}}return null}var B=Object.assign,j=0,q,W,V,$,J,X,ge;function F(){}F.__reactDisabledLog=!0;function M(){{if(j===0){q=console.log,W=console.info,V=console.warn,$=console.error,J=console.group,X=console.groupCollapsed,ge=console.groupEnd;var l={configurable:!0,enumerable:!0,value:F,writable:!0};Object.defineProperties(console,{info:l,log:l,warn:l,error:l,group:l,groupCollapsed:l,groupEnd:l})}j++}}function Y(){{if(j--,j===0){var l={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:B({},l,{value:q}),info:B({},l,{value:W}),warn:B({},l,{value:V}),error:B({},l,{value:$}),group:B({},l,{value:J}),groupCollapsed:B({},l,{value:X}),groupEnd:B({},l,{value:ge})})}j<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var te=y.ReactCurrentDispatcher,ye;function ee(l,L,D){{if(ye===void 0)try{throw Error()}catch(Oe){var ae=Oe.stack.trim().match(/\n( *(at )?)/);ye=ae&&ae[1]||""}return`
`+ye+l}}var I=!1,ce;{var O=typeof WeakMap=="function"?WeakMap:Map;ce=new O}function z(l,L){if(!l||I)return"";{var D=ce.get(l);if(D!==void 0)return D}var ae;I=!0;var Oe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Le;Le=te.current,te.current=null,M();try{if(L){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(ot){ae=ot}Reflect.construct(l,[],Re)}else{try{Re.call()}catch(ot){ae=ot}l.call(Re.prototype)}}else{try{throw Error()}catch(ot){ae=ot}l()}}catch(ot){if(ot&&ae&&typeof ot.stack=="string"){for(var me=ot.stack.split(`
`),Je=ae.stack.split(`
`),xe=me.length-1,De=Je.length-1;xe>=1&&De>=0&&me[xe]!==Je[De];)De--;for(;xe>=1&&De>=0;xe--,De--)if(me[xe]!==Je[De]){if(xe!==1||De!==1)do if(xe--,De--,De<0||me[xe]!==Je[De]){var Ke=`
`+me[xe].replace(" at new "," at ");return l.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",l.displayName)),typeof l=="function"&&ce.set(l,Ke),Ke}while(xe>=1&&De>=0);break}}}finally{I=!1,te.current=Le,Y(),Error.prepareStackTrace=Oe}var ut=l?l.displayName||l.name:"",Bt=ut?ee(ut):"";return typeof l=="function"&&ce.set(l,Bt),Bt}function fe(l,L,D){return z(l,!1)}function ue(l){var L=l.prototype;return!!(L&&L.isReactComponent)}function Ee(l,L,D){if(l==null)return"";if(typeof l=="function")return z(l,ue(l));if(typeof l=="string")return ee(l);switch(l){case S:return ee("Suspense");case b:return ee("SuspenseList")}if(typeof l=="object")switch(l.$$typeof){case u:return fe(l.render);case m:return Ee(l.type,L,D);case C:{var ae=l,Oe=ae._payload,Le=ae._init;try{return Ee(Le(Oe),L,D)}catch{}}}return""}var se=Object.prototype.hasOwnProperty,he={},He=y.ReactDebugCurrentFrame;function Ve(l){if(l){var L=l._owner,D=Ee(l.type,l._source,L?L.type:null);He.setExtraStackFrame(D)}else He.setExtraStackFrame(null)}function je(l,L,D,ae,Oe){{var Le=Function.call.bind(se);for(var Re in l)if(Le(l,Re)){var me=void 0;try{if(typeof l[Re]!="function"){var Je=Error((ae||"React class")+": "+D+" type `"+Re+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof l[Re]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Je.name="Invariant Violation",Je}me=l[Re](L,Re,ae,D,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(xe){me=xe}me&&!(me instanceof Error)&&(Ve(Oe),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ae||"React class",D,Re,typeof me),Ve(null)),me instanceof Error&&!(me.message in he)&&(he[me.message]=!0,Ve(Oe),R("Failed %s type: %s",D,me.message),Ve(null))}}}var ve=Array.isArray;function _e(l){return ve(l)}function Te(l){{var L=typeof Symbol=="function"&&Symbol.toStringTag,D=L&&l[Symbol.toStringTag]||l.constructor.name||"Object";return D}}function de(l){try{return we(l),!1}catch{return!0}}function we(l){return""+l}function Ne(l){if(de(l))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Te(l)),we(l)}var Ae=y.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},oe,ne,U;U={};function K(l){if(se.call(l,"ref")){var L=Object.getOwnPropertyDescriptor(l,"ref").get;if(L&&L.isReactWarning)return!1}return l.ref!==void 0}function Qe(l){if(se.call(l,"key")){var L=Object.getOwnPropertyDescriptor(l,"key").get;if(L&&L.isReactWarning)return!1}return l.key!==void 0}function at(l,L){if(typeof l.ref=="string"&&Ae.current&&L&&Ae.current.stateNode!==L){var D=w(Ae.current.type);U[D]||(R('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',w(Ae.current.type),l.ref),U[D]=!0)}}function dt(l,L){{var D=function(){oe||(oe=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",L))};D.isReactWarning=!0,Object.defineProperty(l,"key",{get:D,configurable:!0})}}function Xe(l,L){{var D=function(){ne||(ne=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",L))};D.isReactWarning=!0,Object.defineProperty(l,"ref",{get:D,configurable:!0})}}var Fe=function(l,L,D,ae,Oe,Le,Re){var me={$$typeof:t,type:l,key:L,ref:D,props:Re,_owner:Le};return me._store={},Object.defineProperty(me._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(me,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ae}),Object.defineProperty(me,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Oe}),Object.freeze&&(Object.freeze(me.props),Object.freeze(me)),me};function Me(l,L,D,ae,Oe){{var Le,Re={},me=null,Je=null;D!==void 0&&(Ne(D),me=""+D),Qe(L)&&(Ne(L.key),me=""+L.key),K(L)&&(Je=L.ref,at(L,Oe));for(Le in L)se.call(L,Le)&&!Ge.hasOwnProperty(Le)&&(Re[Le]=L[Le]);if(l&&l.defaultProps){var xe=l.defaultProps;for(Le in xe)Re[Le]===void 0&&(Re[Le]=xe[Le])}if(me||Je){var De=typeof l=="function"?l.displayName||l.name||"Unknown":l;me&&dt(Re,De),Je&&Xe(Re,De)}return Fe(l,me,Je,Oe,ae,Ae.current,Re)}}var it=y.ReactCurrentOwner,St=y.ReactDebugCurrentFrame;function st(l){if(l){var L=l._owner,D=Ee(l.type,l._source,L?L.type:null);St.setExtraStackFrame(D)}else St.setExtraStackFrame(null)}var Ct;Ct=!1;function Nt(l){return typeof l=="object"&&l!==null&&l.$$typeof===t}function Tt(){{if(it.current){var l=w(it.current.type);if(l)return`

Check the render method of \``+l+"`."}return""}}function G(l){{if(l!==void 0){var L=l.fileName.replace(/^.*[\\\/]/,""),D=l.lineNumber;return`

Check your code at `+L+":"+D+"."}return""}}var H={};function Z(l){{var L=Tt();if(!L){var D=typeof l=="string"?l:l.displayName||l.name;D&&(L=`

Check the top-level render call using <`+D+">.")}return L}}function Ie(l,L){{if(!l._store||l._store.validated||l.key!=null)return;l._store.validated=!0;var D=Z(L);if(H[D])return;H[D]=!0;var ae="";l&&l._owner&&l._owner!==it.current&&(ae=" It was passed a child from "+w(l._owner.type)+"."),st(l),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',D,ae),st(null)}}function rt(l,L){{if(typeof l!="object")return;if(_e(l))for(var D=0;D<l.length;D++){var ae=l[D];Nt(ae)&&Ie(ae,L)}else if(Nt(l))l._store&&(l._store.validated=!0);else if(l){var Oe=p(l);if(typeof Oe=="function"&&Oe!==l.entries)for(var Le=Oe.call(l),Re;!(Re=Le.next()).done;)Nt(Re.value)&&Ie(Re.value,L)}}}function ht(l){{var L=l.type;if(L==null||typeof L=="string")return;var D;if(typeof L=="function")D=L.propTypes;else if(typeof L=="object"&&(L.$$typeof===u||L.$$typeof===m))D=L.propTypes;else return;if(D){var ae=w(L);je(D,l.props,"prop",ae,l)}else if(L.PropTypes!==void 0&&!Ct){Ct=!0;var Oe=w(L);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Oe||"Unknown")}typeof L.getDefaultProps=="function"&&!L.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ot(l){{for(var L=Object.keys(l.props),D=0;D<L.length;D++){var ae=L[D];if(ae!=="children"&&ae!=="key"){st(l),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ae),st(null);break}}l.ref!==null&&(st(l),R("Invalid attribute `ref` supplied to `React.Fragment`."),st(null))}}function gt(l,L,D,ae,Oe,Le){{var Re=Q(l);if(!Re){var me="";(l===void 0||typeof l=="object"&&l!==null&&Object.keys(l).length===0)&&(me+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Je=G(Oe);Je?me+=Je:me+=Tt();var xe;l===null?xe="null":_e(l)?xe="array":l!==void 0&&l.$$typeof===t?(xe="<"+(w(l.type)||"Unknown")+" />",me=" Did you accidentally export a JSX literal instead of a component?"):xe=typeof l,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",xe,me)}var De=Me(l,L,D,Oe,Le);if(De==null)return De;if(Re){var Ke=L.children;if(Ke!==void 0)if(ae)if(_e(Ke)){for(var ut=0;ut<Ke.length;ut++)rt(Ke[ut],l);Object.freeze&&Object.freeze(Ke)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else rt(Ke,l)}return l===n?Ot(De):ht(De),De}}function Dt(l,L,D){return gt(l,L,D,!0)}function or(l,L,D){return gt(l,L,D,!1)}var ar=or,ir=Dt;Ht.Fragment=n,Ht.jsx=ar,Ht.jsxs=ir}()),Ht}(function(e){process.env.NODE_ENV==="production"?e.exports=js():e.exports=Ws()})(Ms);const xn=zt.Fragment,pe=zt.jsx,_t=zt.jsxs,mt=({className:e,handleOnClick:t,label:r,title:n,disabled:o,disabledTranslation:c,testID:E})=>pe("button",{type:"button","data-testid":E,disabled:o&&!c,className:e,title:c&&o?c.title:n,onClick:h=>t(h),children:c&&o?c.label:r});mt.displayName="ActionElement";const ns="~",Nr="------",gr=ns,ss=Nr,os=Nr,vr=ns,as=Nr,is=Nr,Or=",",Er={fields:{title:"Fields",placeholderName:gr,placeholderLabel:ss,placeholderGroupLabel:os},operators:{title:"Operators",placeholderName:vr,placeholderLabel:as,placeholderGroupLabel:is},value:{title:"Value"},removeRule:{label:"x",title:"Remove rule"},removeGroup:{label:"x",title:"Remove group"},addRule:{label:"+Rule",title:"Add rule"},addGroup:{label:"+Group",title:"Add group"},combinators:{title:"Combinators"},notToggle:{label:"Not",title:"Invert this group"},cloneRule:{label:"⧉",title:"Clone rule"},cloneRuleGroup:{label:"⧉",title:"Clone group"},dragHandle:{label:"⁞⁞",title:"Drag handle"},lockRule:{label:"🔓",title:"Lock rule"},lockGroup:{label:"🔓",title:"Lock group"},lockRuleDisabled:{label:"🔒",title:"Unlock rule"},lockGroupDisabled:{label:"🔒",title:"Unlock group"},valueSourceSelector:{title:"Value source"}},ls=[{name:"=",label:"="},{name:"!=",label:"!="},{name:"<",label:"<"},{name:">",label:">"},{name:"<=",label:"<="},{name:">=",label:">="},{name:"contains",label:"contains"},{name:"beginsWith",label:"begins with"},{name:"endsWith",label:"ends with"},{name:"doesNotContain",label:"does not contain"},{name:"doesNotBeginWith",label:"does not begin with"},{name:"doesNotEndWith",label:"does not end with"},{name:"null",label:"is null"},{name:"notNull",label:"is not null"},{name:"in",label:"in"},{name:"notIn",label:"not in"},{name:"between",label:"between"},{name:"notBetween",label:"not between"}],Xr={"=":"!=","!=":"=","<":">=","<=":">",">":"<=",">=":"<",beginsWith:"doesNotBeginWith",doesNotBeginWith:"beginsWith",endsWith:"doesNotEndWith",doesNotEndWith:"endsWith",contains:"doesNotContain",doesNotContain:"contains",between:"notBetween",notBetween:"between",in:"notIn",notIn:"in",notNull:"null",null:"notNull"},Lt=[{name:"and",label:"AND"},{name:"or",label:"OR"}],Us=[...Lt,{name:"xor",label:"XOR"}],Se={queryBuilder:"queryBuilder",ruleGroup:"ruleGroup",header:"ruleGroup-header",body:"ruleGroup-body",combinators:"ruleGroup-combinators",addRule:"ruleGroup-addRule",addGroup:"ruleGroup-addGroup",cloneRule:"rule-cloneRule",cloneGroup:"ruleGroup-cloneGroup",removeGroup:"ruleGroup-remove",notToggle:"ruleGroup-notToggle",rule:"rule",fields:"rule-fields",operators:"rule-operators",value:"rule-value",removeRule:"rule-remove",betweenRules:"betweenRules",valid:"queryBuilder-valid",invalid:"queryBuilder-invalid",dndDragging:"dndDragging",dndOver:"dndOver",dndCopy:"dndCopy",dragHandle:"queryBuilder-dragHandle",disabled:"queryBuilder-disabled",lockRule:"rule-lock",lockGroup:"ruleGroup-lock",valueSource:"rule-valueSource",valueListItem:"rule-value-list-item",branches:"queryBuilder-branches"},us={queryBuilder:"",ruleGroup:"",header:"",body:"",combinators:"",addRule:"",addGroup:"",cloneRule:"",cloneGroup:"",removeGroup:"",notToggle:"",rule:"",fields:"",operators:"",value:"",removeRule:"",dragHandle:"",lockRule:"",lockGroup:"",valueSource:""},yr={empty:"empty",invalidCombinator:"invalid combinator",invalidIndependentCombinators:"invalid independent combinators"},Ue={rule:"rule",ruleGroup:"rule-group",inlineCombinator:"inline-combinator",addGroup:"add-group",removeGroup:"remove-group",cloneGroup:"clone-group",cloneRule:"clone-rule",addRule:"add-rule",removeRule:"remove-rule",combinators:"combinators",fields:"fields",operators:"operators",valueEditor:"value-editor",notToggle:"not-toggle",dragHandle:"drag-handle",lockRule:"lock-rule",lockGroup:"lock-group",valueSourceSelector:"value-source-selector"},yt={parentPathDisabled:"action aborted: parent path disabled",pathDisabled:"action aborted: path is disabled",queryUpdate:"query updated",onAddRuleFalse:"onAddRule callback returned false",onAddGroupFalse:"onAddGroup callback returned false",onRemoveFalse:"onRemove callback returned false"},Kr=({component:e,path:t,independentCombinators:r,...n})=>pe("div",{className:Se.betweenRules,"data-testid":Ue.inlineCombinator,children:pe(e,{...n,path:t,testID:Ue.combinators})},"no-dnd");Kr.displayName="InlineCombinator";function cs(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=cs(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Be(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=cs(e))&&(n&&(n+=" "),n+=t);return n}const ft=e=>Array.isArray(e)&&e.length>0&&"options"in e[0],Zr=(e,t)=>(ft(e)?e.flatMap(r=>r.options):e).find(r=>r.name===t),It=e=>!Array.isArray(e)||e.length===0?null:ft(e)?e[0].options[0].name:e[0].name,Ar=(e,t,r)=>{if(!e.comparator){const o=c=>c.name!==e.name;return ft(t)?t.map(c=>({...c,options:c.options.filter(o)})):t.filter(o)}const n=o=>e.name===o.name?!1:typeof e.comparator=="string"?e[e.comparator]===o[e.comparator]:e.comparator(o,r);return ft(t)?t.map(o=>({...o,options:o.options.filter(n)})).filter(o=>o.options.length>0):t.filter(n)},en=e=>{const t=typeof e=="boolean"?e:typeof e=="object"&&e!==null?e.valid:null;return typeof t=="boolean"?t?Se.valid:Se.invalid:""},_r=(e,t,r)=>{const n=e??{};if(n.valueSources)return typeof n.valueSources=="function"?n.valueSources(t):n.valueSources;if(r){const o=r(n.name,t);if(o)return o}return["value"]},fs="A custom RuleGroup component has rendered a standard RuleGroup component with deprecated props. The combinator, not, and rules props should not be used. Instead, the full group object should be passed as the ruleGroup prop.",ds="A custom RuleGroup component has rendered a standard Rule component with deprecated props. The field, operator, value, and valueSource props should not be used. Instead, the full rule object should be passed as the rule prop.",hs="QueryBuilder was rendered with both query and defaultQuery props. QueryBuilder must be either controlled or uncontrolled (specify either the query prop, or the defaultQuery prop, but not both). Decide between using a controlled or uncontrolled query builder and remove one of these props. More info: https://reactjs.org/link/controlled-components",ps="QueryBuilder is changing from an uncontrolled component to be controlled. This is likely caused by the query changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled query builder for the lifetime of the component. More info: https://reactjs.org/link/controlled-components",ys="QueryBuilder is changing from a controlled component to be uncontrolled. This is likely caused by the query changing from defined to undefined, which should not happen. Decide between using a controlled or uncontrolled query builder for the lifetime of the component. More info: https://reactjs.org/link/controlled-components",ms="QueryBuilder was rendered with the enableDragAndDrop prop set to true, but either react-dnd or react-dnd-html5-backend (or both) was not installed. To enable drag-and-drop functionality, install both packages and wrap QueryBuilder in QueryBuilderDnD from @react-querybuilder/dnd.",Hs=Object.freeze(Object.defineProperty({__proto__:null,errorDeprecatedRuleGroupProps:fs,errorDeprecatedRuleProps:ds,errorBothQueryDefaultQuery:hs,errorUncontrolledToControlled:ps,errorControlledToUncontrolled:ys,errorEnabledDndWithoutReactDnD:ms},Symbol.toStringTag,{value:"Module"})),bs=e=>{const t=le.useRef(null);return le.useEffect(()=>{t.current=e},[e]),t.current};let Vn=!1,Dn=!1,Bn=!1;const gs=({defaultQuery:e,queryProp:t,isFirstRender:r})=>{const n=bs(!!t);le.useEffect(()=>{process.env.NODE_ENV!=="production"&&(!!t&&!!e&&!Vn?(console.error(hs),Vn=!0):n&&!t&&!!e&&!Bn?(console.error(ys),Bn=!0):!(n||r)&&!!t&&!e&&!Dn&&(console.error(ps),Dn=!0))},[e,n,t,r])};let Gn=!1,$n=!1;const tn=(e,t)=>{le.useEffect(()=>{process.env.NODE_ENV!=="production"&&e==="rule"&&!t&&!Gn&&(console.error(ds),Gn=!0),process.env.NODE_ENV!=="production"&&e==="ruleGroup"&&!t&&!$n&&(console.error(fs),$n=!0)},[t,e])};let Fn=!1;const rn=(e,t)=>{le.useEffect(()=>{process.env.NODE_ENV!=="production"&&!Fn&&e&&!t&&(console.error(ms),Fn=!0)},[])},vs=(e,t=Or)=>typeof e=="string"?e.split(`\\${t}`).map(r=>r.split(t)).reduce((r,n,o)=>o===0?n:[...r.slice(0,r.length-1),`${r[r.length-1]}${t}${n[0]}`,...n.slice(1)],[]):[],Xt=(e,t=Or)=>e.map(r=>(r??"").replaceAll(t,`\\${t}`)).join(t),Ye=e=>typeof e=="string"?e.trim():e,tt=e=>(Array.isArray(e)?e:typeof e=="string"?vs(e,Or).filter(t=>!/^\s*$/.test(t)):[]).map(Ye),Qs=e=>e.every(Boolean),qs=(...e)=>e.filter(Boolean).join(" "),nn=e=>typeof e=="object"&&"rules"in e&&Array.isArray(e.rules),Kt=e=>nn(e)&&"combinator"in e,Es=e=>nn(e)&&!("combinator"in e),Mn=e=>typeof e=="object"&&"rules"in e?_s(e):e,_s=e=>{const t=[],r=o=>t.push(Mn(o));let n=0;for(let o=0;o<e.rules.length;o+=2)if(e.rules.length===1)r(e.rules[0]);else if(e.rules[o+1]==="and"){n=o;let c=1;for(;e.rules[n+c]==="and";)o+=2,c+=2;t.push({rules:e.rules.slice(n,o+1).map(Mn)}),o-=2}else e.rules[o+1]==="or"&&(o===0||o===e.rules.length-3?((o===0||e.rules[o-1]==="or")&&r(e.rules[o]),r(e.rules[o+1]),o===e.rules.length-3&&r(e.rules[o+2])):(e.rules[o-1]==="and"||r(e.rules[o]),r(e.rules[o+1])));return t.length===1&&typeof t[0]=="object"&&"rules"in t[0]?{...e,...t[0]}:{...e,rules:t}},Zt=e=>{const t=_s(e),r=t.rules.map(c=>typeof c=="string"||!("rules"in c)?c:Zt(c)),n=r.length<2?"and":r[1],o=r.filter(c=>typeof c!="string");return{...t,combinator:n,rules:o}},sr=e=>{const{combinator:t,...r}=e,n=[];return e.rules.forEach((o,c,E)=>{"rules"in o?n.push(sr(o)):n.push(o),c<E.length-1&&n.push(t)}),{...r,rules:n}};function Js(e){return Es(e)?Zt(e):sr(e)}const Ys=e=>{const t={},r=n=>{const o=[];if(n.rules.length===0)o.push(yr.empty);else if(!("combinator"in n)){let c=!1;for(let E=0;E<n.rules.length&&!c;E++)(E%2===0&&typeof n.rules[E]=="string"||E%2===1&&typeof n.rules[E]!="string"||E%2===1&&typeof n.rules[E]=="string"&&!Lt.map(h=>h.name).includes(n.rules[E]))&&(c=!0);c&&o.push(yr.invalidIndependentCombinators)}"combinator"in n&&!Lt.map(c=>c.name).includes(n.combinator)&&n.rules.length>1&&o.push(yr.invalidCombinator),n.id&&(o.length?t[n.id]={valid:!1,reasons:o}:t[n.id]=!0),n.rules.forEach(c=>{typeof c=="string"||"rules"in c&&r(c)})};return r(e),t},Rs=/^\s*[+-]?(\d+|\d*\.\d+|\d+\.\d*)([Ee][+-]?\d+)?\s*$/,zs=e=>{switch(e.toLowerCase()){case"null":return"is null";case"notnull":return"is not null";case"notin":return"not in";case"notbetween":return"not between";case"contains":case"beginswith":case"endswith":return"like";case"doesnotcontain":case"doesnotbeginwith":case"doesnotendwith":return"not like";default:return e}},jn={"=":"$eq","!=":"$ne","<":"$lt","<=":"$lte",">":"$gt",">=":"$gte",in:"$in",notIn:"$nin"},Wn={and:"&&",or:"||"},Xs={startsWith:(e,t)=>e.startsWith(t),endsWith:(e,t)=>e.endsWith(t)},Ss=e=>({...e,rules:e.rules.map(t=>{if(typeof t=="string")return t;if("rules"in t)return Ss(t);let{value:r}=t;return typeof r=="string"&&Rs.test(r)&&(r=parseFloat(r)),{...t,value:r}})}),Wt=e=>typeof e=="string"&&e.length>0||typeof e=="number"&&!isNaN(e)||typeof e!="string"&&typeof e!="number",$e=(e,t)=>!!t&&(typeof e=="number"||typeof e=="bigint"||typeof e=="string"&&Rs.test(e)),Ks=e=>e.length>=3,fr=e=>/^(does)?not/i.test(e),er=({field:e,operator:t,value:r,valueSource:n},{escapeQuotes:o,parseNumbers:c}={})=>{const E=b=>typeof b!="string"||!o?b:b.replaceAll('"','\\"'),h=n==="field",u=t.replace(/^=$/,"=="),S=typeof r=="number"||typeof r=="boolean"||typeof r=="bigint"||$e(r,c);if(u==="<"||u==="<="||u==="=="||u==="!="||u===">"||u===">=")return`${e} ${u} ${h||S?Ye(r):`"${E(r)}"`}`;if(u==="contains"||u==="doesNotContain")return`${fr(u)?"!":""}${e}.contains(${h?Ye(r):`"${E(r)}"`})`;if(u==="beginsWith"||u==="doesNotBeginWith")return`${fr(u)?"!":""}${e}.startsWith(${h?Ye(r):`"${E(r)}"`})`;if(u==="endsWith"||u==="doesNotEndWith")return`${fr(u)?"!":""}${e}.endsWith(${h?Ye(r):`"${E(r)}"`})`;if(u==="null")return`${e} == null`;if(u==="notNull")return`${e} != null`;if(u==="in"||u==="notIn"){const b=fr(u),m=tt(r);return m.length>0?`${b?"!(":""}${e} in [${m.map(C=>h||$e(C,c)?`${Ye(C)}`:`"${E(C)}"`).join(", ")}]${b?")":""}`:""}else if(u==="between"||u==="notBetween"){const b=tt(r);if(b.length>=2&&!!b[0]&&!!b[1]){const[m,C]=b,s=$e(m,!0)?parseFloat(m):NaN,g=$e(C,!0)?parseFloat(C):NaN;let v=isNaN(s)?h?`${m}`:`"${E(m)}"`:s,p=isNaN(g)?h?`${C}`:`"${E(C)}"`:g;if(v===s&&p===g&&g<s){const y=g;p=s,v=y}return t==="between"?`(${e} >= ${v} && ${e} <= ${p})`:`(${e} < ${v} || ${e} > ${p})`}else return""}return""},tr=({field:e,operator:t,value:r,valueSource:n},{parseNumbers:o}={})=>{const c=u=>typeof u!="string"?u:u.replaceAll("\\","\\\\").replaceAll('"','\\"'),E=n==="field",h=typeof r=="number"||typeof r=="boolean"||typeof r=="bigint"||$e(r,o);if(t==="="&&!E)return`{"${e}":${h?Ye(r):`"${c(r)}"`}}`;if(t==="<"||t==="<="||t==="="||t==="!="||t===">"||t===">="){const u=jn[t];return E?`{"$expr":{"${u}":["$${e}","$${r}"]}}`:`{"${e}":{"${u}":${h?Ye(r):`"${c(r)}"`}}}`}else{if(t==="contains")return E?`{"$where":"this.${e}.includes(this.${r})"}`:`{"${e}":{"$regex":"${c(r)}"}}`;if(t==="beginsWith")return E?`{"$where":"this.${e}.startsWith(this.${r})"}`:`{"${e}":{"$regex":"^${c(r)}"}}`;if(t==="endsWith")return E?`{"$where":"this.${e}.endsWith(this.${r})"}`:`{"${e}":{"$regex":"${c(r)}$"}}`;if(t==="doesNotContain")return E?`{"$where":"!this.${e}.includes(this.${r})"}`:`{"${e}":{"$not":{"$regex":"${c(r)}"}}}`;if(t==="doesNotBeginWith")return E?`{"$where":"!this.${e}.startsWith(this.${r})"}`:`{"${e}":{"$not":{"$regex":"^${c(r)}"}}}`;if(t==="doesNotEndWith")return E?`{"$where":"!this.${e}.endsWith(this.${r})"}`:`{"${e}":{"$not":{"$regex":"${c(r)}$"}}}`;if(t==="null")return`{"${e}":null}`;if(t==="notNull")return`{"${e}":{"$ne":null}}`;if(t==="in"||t==="notIn"){const u=tt(r);return u.length>0?E?`{"$where":"${t==="notIn"?"!":""}[${u.map(S=>`this.${S}`).join(",")}].includes(this.${e})"}`:`{"${e}":{"${jn[t]}":[${u.map(S=>$e(S,o)?`${Ye(S)}`:`"${c(S)}"`).join(",")}]}}`:""}else if(t==="between"||t==="notBetween"){const u=tt(r);if(u.length>=2&&Wt(u[0])&&Wt(u[1])){const[S,b]=u,m=$e(S,!0)?parseFloat(S):NaN,C=$e(b,!0)?parseFloat(b):NaN,s=E||!isNaN(m)?`${S}`:`"${c(S)}"`,g=E||!isNaN(C)?`${b}`:`"${c(b)}"`;return t==="between"?E?`{"$and":[{"$expr":{"$gte":["$${e}","$${s}"]}},{"$expr":{"$lte":["$${e}","$${g}"]}}]}`:`{"${e}":{"$gte":${s},"$lte":${g}}}`:E?`{"$or":[{"$expr":{"$lt":["$${e}","$${s}"]}},{"$expr":{"$gt":["$${e}","$${g}"]}}]}`:`{"$or":[{"${e}":{"$lt":${s}}},{"${e}":{"$gt":${g}}}]}`}else return""}}return""},dr=e=>/^(does)?not/i.test(e),Hr=(e,t)=>`${t?"!(":""}${e}${t?")":""}`,rr=({field:e,operator:t,value:r,valueSource:n},{escapeQuotes:o,parseNumbers:c}={})=>{const E=b=>typeof b!="string"||!o?b:b.replaceAll("'","\\'"),h=n==="field",u=t.replace(/^=$/,"=="),S=typeof r=="number"||typeof r=="boolean"||typeof r=="bigint"||$e(r,c);if(u==="<"||u==="<="||u==="=="||u==="!="||u===">"||u===">=")return`${e} ${u} ${h||S?Ye(r):`'${E(r)}'`}`;if(u==="contains"||u==="doesNotContain")return Hr(`${e} matches ${h||S?Ye(r):`'${E(r)}'`}`,dr(u));if(u==="beginsWith"||u==="doesNotBeginWith"){const b=h?`'^'.concat(${Ye(r)})`:`'${typeof r=="string"&&!r.startsWith("^")||S?"^":""}${E(r)}'`;return Hr(`${e} matches ${b}`,dr(u))}else if(u==="endsWith"||u==="doesNotEndWith"){const b=h?`${Ye(r)}.concat('$')`:`'${E(r)}${typeof r=="string"&&!r.endsWith("$")||S?"$":""}'`;return Hr(`${e} matches ${b}`,dr(u))}else{if(u==="null")return`${e} == null`;if(u==="notNull")return`${e} != null`;if(u==="in"||u==="notIn"){const b=dr(u)?"!":"",m=tt(r);return m.length>0?`${b}(${m.map(C=>`${e} == ${h||$e(C,c)?`${Ye(C)}`:`'${E(C)}'`}`).join(" or ")})`:""}else if(u==="between"||u==="notBetween"){const b=tt(r);if(b.length>=2&&!!b[0]&&!!b[1]){const[m,C]=b,s=$e(m,!0)?parseFloat(m):NaN,g=$e(C,!0)?parseFloat(C):NaN;let v=isNaN(s)?h?`${m}`:`'${E(m)}'`:s,p=isNaN(g)?h?`${C}`:`'${E(C)}'`:g;if(v===s&&p===g&&g<s){const y=g;p=s,v=y}return t==="between"?`(${e} >= ${v} and ${e} <= ${p})`:`(${e} < ${v} or ${e} > ${p})`}else return""}}return""},Rr=({operator:e,value:t,valueSource:r},{escapeQuotes:n,parseNumbers:o}={})=>{const c=u=>typeof u!="string"||!n?u:u.replaceAll("'","''"),E=r==="field",h=e.toLowerCase();if(h==="null"||h==="notnull")return"";if(h==="in"||h==="notin"){const u=tt(t);return u.length>0?`(${u.map(S=>E||$e(S,o)?`${Ye(S)}`:`'${c(S)}'`).join(", ")})`:""}else if(h==="between"||h==="notbetween"){const u=tt(t);if(u.length>=2&&Wt(u[0])&&Wt(u[1])){const[S,b]=u;return E||$e(S,o)&&$e(b,o)?`${Ye(S)} and ${Ye(b)}`:`'${c(S)}' and '${c(b)}'`}return""}else{if(h==="contains"||h==="doesnotcontain")return E?`'%' || ${t} || '%'`:`'%${c(t)}%'`;if(h==="beginswith"||h==="doesnotbeginwith")return E?`${t} || '%'`:`'${c(t)}%'`;if(h==="endswith"||h==="doesnotendwith")return E?`'%' || ${t}`:`'%${c(t)}'`;if(typeof t=="boolean")return`${t}`.toUpperCase()}return E||$e(t,o)?`${Ye(t)}`:`'${c(t)}'`},Zs=e=>e.replace(/^(=)$/,"$1=").replace(/^notNull$/i,"!=").replace(/^null$/i,"=="),Qt=(e,t)=>/^(does)?not/i.test(e)?{"!":t}:t,Jr=({field:e,operator:t,value:r,valueSource:n},{parseNumbers:o}={})=>{const c=n==="field",E={var:e},h=u=>c?{var:`${u}`}:$e(u,o)?parseFloat(u):u;if(t==="<"||t==="<="||t==="="||t==="!="||t===">"||t===">=")return{[Zs(t)]:[E,h(r)]};if(t==="null"||t==="notNull")return{[`${t==="notNull"?"!":"="}=`]:[E,null]};if(t==="in"||t==="notIn"){const u=tt(r).map(h);return u.length>0?Qt(t,{in:[E,u]}):!1}else if(t==="between"||t==="notBetween"){const u=tt(r);if(u.length>=2&&Wt(u[0])&&Wt(u[1])){let[S,b]=u;if(!c&&$e(S,!0)&&$e(b,!0)){const C=parseFloat(S),s=parseFloat(b);if(s<C){const g=s;b=C,S=g}else S=C,b=s}else c&&(S={var:S},b={var:b});return Qt(t,{"<=":[S,E,b]})}return!1}else if(t==="contains"||t==="doesNotContain"){const u={in:[h(r),E]};return Qt(t,u)}else if(t==="beginsWith"||t==="doesNotBeginWith"){const u={startsWith:[E,h(r)]};return Qt(t,u)}else if(t==="endsWith"||t==="doesNotEndWith"){const u={endsWith:[E,h(r)]};return Qt(t,u)}return!1},xt=e=>{const t=new Set,r=[];return e.forEach(n=>{t.has(n.name)||(t.add(n.name),r.push(n))}),r},mr=e=>{const t=new Set,r=new Set,n=[];return e.forEach(o=>{if(!t.has(o.label)){t.add(o.label);const c=[];o.options.forEach(E=>{r.has(E.name)||(r.add(E.name),c.push(E))}),n.push({...o,options:c})}}),n},ke=e=>e===null||typeof e!="object"?!1:Object.getPrototypeOf(e)===Object.prototype,kr=e=>{let t=[];const r=e?Array.isArray(e)?e:Object.keys(e).map(n=>({...e[n],name:n})).sort((n,o)=>n.label.localeCompare(o.label)):[];return ft(r)?t=xt(t.concat(...r.map(n=>n.options))):t=xt(r),t};function Ir({fieldsFlat:e,fieldName:t,operator:r,subordinateFieldName:n,getValueSources:o}){if(e.length===0)return!0;let c=!1;const E=e.find(h=>h.name===t);return E&&(!n&&r!=="notNull"&&r!=="null"&&!_r(E,r,o).some(h=>h==="value")?c=!1:c=!0,c&&!!n&&(_r(E,r,o).some(h=>h==="field")&&t!==n&&Ar(E,e,r).find(u=>u.name===n)||(c=!1))),c}const Yr=e=>ke(e)&&typeof e.valid=="boolean",ct=(e,t,r)=>{if(typeof t=="boolean")return t;if(Yr(t))return t.valid;if(typeof r=="function"&&!("rules"in e)){const n=r(e);if(typeof n=="boolean")return n;if(Yr(n))return n.valid}return!0};function eo(e,t={}){let r="json",n=Rr,o=null,c="",E=()=>!0,h=[],u={},S="",b=":",m=!1,C=gr,s=vr;if(typeof t=="string")r=t.toLowerCase(),r==="mongodb"?o=tr:r==="cel"?o=er:r==="spel"?o=rr:r==="jsonlogic"&&(o=Jr);else{r=(t.format??"json").toLowerCase();const{valueProcessor:g=null,ruleProcessor:v=null}=t;typeof v=="function"&&(o=v),n=typeof g=="function"?p=>Ks(g)?g(p.field,p.operator,p.value,p.valueSource):g(p,{parseNumbers:m}):r==="mongodb"?o??tr:r==="cel"?o??er:r==="spel"?o??rr:r==="jsonlogic"?o??Jr:Rr,c=t.quoteFieldNamesWith??"",E=t.validator??(()=>!0),h=t.fields??[],S=t.fallbackExpression??"",b=t.paramPrefix??":",m=!!t.parseNumbers,C=t.placeholderFieldName??gr,s=t.placeholderOperatorName??vr}if(S||(S=r==="mongodb"?'"$and":[{"$expr":true}]':r==="cel"||r==="spel"?"1 == 1":"(1 = 1)"),r==="json"||r==="json_without_ids"){const g=m?Ss(e):e;return r==="json"?JSON.stringify(g,null,2):JSON.stringify(g,["rules","field","value","operator","combinator","not","valueSource"])}else{if(typeof E=="function"){const y=E(e);if(typeof y=="boolean"){if(y===!1)return r==="parameterized"?{sql:S,params:[]}:r==="parameterized_named"?{sql:S,params:{}}:r==="mongodb"?`{${S}}`:r==="jsonlogic"?!1:S}else u=y}const g={};xt(h).forEach(y=>{typeof y.validator=="function"&&(g[y.name]=y.validator)});const p=y=>{let R,d;if(y.id&&(R=u[y.id]),h.length){const f=h.filter(_=>_.name===y.field);if(f.length){const _=f[0];typeof _.validator=="function"&&(d=_.validator)}}return[R,d]};if(r==="sql"||r==="parameterized"||r==="parameterized_named"){const y=r==="parameterized",R=r==="parameterized_named",d=[],f={},_={},N=A=>(_[A]=(_[A]??0)+1,`${A}_${_[A]}`),k=A=>{const[Q,T]=p(A);if(!ct(A,Q,T)||A.field===C||A.operator===s)return"";const x=n(A,{parseNumbers:m,escapeQuotes:r==="sql"&&(A.valueSource??"value")==="value"}),w=zs(A.operator);if((y||R)&&(A.valueSource??"value")==="value"){if(w.toLowerCase()==="is null"||w.toLowerCase()==="is not null")return`${c}${A.field}${c} ${w}`;if(w.toLowerCase()==="in"||w.toLowerCase()==="not in")if(x){const q=tt(A.value);if(y)return q.forEach(V=>d.push($e(V,m)?parseFloat(V):V)),`${c}${A.field}${c} ${w} (${q.map(()=>"?").join(", ")})`;const W=[];return q.forEach(V=>{const $=N(A.field);W.push(`${b}${$}`),f[$]=$e(V,m)?parseFloat(V):V}),`${c}${A.field}${c} ${w} (${W.join(", ")})`}else return"";else if(w.toLowerCase()==="between"||w.toLowerCase()==="not between")if(x){const q=tt(A.value),[W,V]=q.slice(0,2).map(X=>$e(X,m)?parseFloat(X):X);if(y)return d.push(W),d.push(V),`${c}${A.field}${c} ${w} ? and ?`;const $=N(A.field),J=N(A.field);return f[$]=W,f[J]=V,`${c}${A.field}${c} ${w} ${b}${$} and ${b}${J}`}else return"";let B=A.value;typeof A.value=="string"&&($e(A.value,m)?B=parseFloat(A.value):B=/^'.*'$/g.test(x)?x.replace(/(^'|'$)/g,""):x);let j="";return y?d.push(B):(j=N(A.field),f[j]=B),`${c}${A.field}${c} ${w} ${y?"?":`${b}${j}`}`.trim()}else{const B=w.toLowerCase();if((B==="in"||B==="not in"||B==="between"||B==="not between")&&!x)return""}return`${c}${A.field}${c} ${w} ${x}`.trim()},P=(A,Q)=>{if(!ct(A,u[A.id??""]))return Q?S:"";const T=A.rules.map(x=>typeof x=="string"?x:"rules"in x?P(x):k(x));return T.length===0?S:`${A.not?"NOT ":""}(${T.filter(Boolean).join("combinator"in A?` ${A.combinator} `:" ")})`};return y?{sql:P(e,!0),params:d}:R?{sql:P(e,!0),params:f}:P(e,!0)}else if(r==="mongodb"){const y=(f,_)=>{if(!ct(f,u[f.id??""]))return _?S:"";const N=`"$${f.combinator.toLowerCase()}"`;let k=!1;const P=f.rules.map(A=>{if("rules"in A){const x=y(A);return x?(k=!0,/^\{.+\}$/.test(x)?x:`{${x}}`):""}const[Q,T]=p(A);return!ct(A,Q,T)||A.field===C||A.operator===s?"":(o??n)(A,{parseNumbers:m})}).filter(Boolean);return P.length>0?P.length===1&&!k?P[0]:`${N}:[${P.join(",")}]`:S},R="combinator"in e?e:Zt(e),d=y(R,!0);return/^\{.+\}$/.test(d)?d:`{${d}}`}else if(r==="cel"){const y=(R,d)=>{if(!ct(R,u[R.id??""]))return d?S:"";const f=R.rules.map(k=>{if(typeof k=="string")return Wn[k];if("rules"in k)return y(k);const[P,A]=p(k);return!ct(k,P,A)||k.field===C||k.operator===s?"":(o??n)(k,{parseNumbers:m,escapeQuotes:(k.valueSource??"value")==="value"})}).filter(Boolean).join("combinator"in R?` ${Wn[R.combinator]} `:" "),[_,N]=R.not||!d?[`${R.not?"!":""}(`,")"]:["",""];return f?`${_}${f}${N}`:S};return y(e,!0)}else if(r==="spel"){const y=(R,d)=>{if(!ct(R,u[R.id??""]))return d?S:"";const f=R.rules.map(k=>{if(typeof k=="string")return k;if("rules"in k)return y(k);const[P,A]=p(k);return!ct(k,P,A)||k.field===C||k.operator===s?"":(o??n)(k,{parseNumbers:m,escapeQuotes:(k.valueSource??"value")==="value"})}).filter(Boolean).join("combinator"in R?` ${R.combinator} `:" "),[_,N]=R.not||!d?[`${R.not?"!":""}(`,")"]:["",""];return f?`${_}${f}${N}`:S};return y(e,!0)}else if(r==="jsonlogic"){const y="combinator"in e?e:Zt(e),R=d=>{if(!ct(d,u[d.id??""]))return!1;const f=d.rules.map(N=>{if("rules"in N)return R(N);const[k,P]=p(N);return!ct(N,k,P)||N.field===C||N.operator===s?!1:(o??n)(N,{parseNumbers:m})}).filter(Boolean);if(f.length===0)return!1;const _=f.length===1?f[0]:{[d.combinator]:f};return d.not?{"!":_}:_};return R(y)}else return""}}const to={default:Rr,mongodb:tr,cel:er,spel:rr},Lr=e=>(t,r,n,o)=>to[e]({field:t,operator:r,value:n,valueSource:o},{parseNumbers:!1}),ro=Lr("default"),no=Lr("mongodb"),so=Lr("cel"),oo=Lr("spel"),ao=er,io=tr,lo=rr,qt=globalThis.crypto;exports.generateID=()=>"00-0-4-2-000".replace(/[^-]/g,e=>((Math.random()+~~e)*65536>>e).toString(16).padStart(4,"0"));if(qt){if(typeof qt.randomUUID=="function")exports.generateID=()=>qt.randomUUID();else if(typeof qt.getRandomValues=="function"){const e=[`${"".padEnd(8,"x")}`,`${"".padEnd(4,"x")}`,`${"4".padEnd(4,"x")}`,`${"y".padEnd(4,"x")}`,`${"".padEnd(12,"x")}`].join("-"),t=["8","9","a","b"],r=/[xy]/g,n=new Uint32Array(32);exports.generateID=()=>{qt.getRandomValues(n);let o=-1;return e.replaceAll(r,c=>(o++,c==="y"?t[n[o]%4]:(n[o]%16).toString(16)))}}}const sn=(...e)=>{const t=r=>Be(e.filter(Boolean).map(n=>Be(n[r])));return{queryBuilder:t("queryBuilder"),ruleGroup:t("ruleGroup"),header:t("header"),body:t("body"),combinators:t("combinators"),addRule:t("addRule"),addGroup:t("addGroup"),cloneRule:t("cloneRule"),cloneGroup:t("cloneGroup"),removeGroup:t("removeGroup"),rule:t("rule"),fields:t("fields"),operators:t("operators"),value:t("value"),removeRule:t("removeRule"),notToggle:t("notToggle"),dragHandle:t("dragHandle"),lockRule:t("lockRule"),lockGroup:t("lockGroup"),valueSource:t("valueSource")}},uo=({key:e,controlClassnames:t,controlElements:r})=>n=>{const o=le.useContext(jt.QueryBuilderContext),c=le.useMemo(()=>t?{controlClassnames:sn(o.controlClassnames,n.controlClassnames,t)}:{},[n.controlClassnames,o.controlClassnames]),E=le.useMemo(()=>({...o,...c,controlElements:{...o.controlElements,...r,...n.controlElements}}),[c,n.controlElements,o]);return pe(jt.QueryBuilderContext.Provider,{value:E,children:n.children},e)},et=e=>Object.keys(e),co=(e,t)=>e===!1?!1:e?!0:t!==!1,fo=(e,t)=>e?!0:e===!1?!1:!!t,ho=(e,t,r)=>e?co(t,r):fo(t,r),br=(e,t,r)=>le.useMemo(()=>ho(e,t,r),[r,e,t]),Cs=e=>{const t=le.useContext(jt.QueryBuilderContext),r=br(!0,e.enableMountQueryChange,t.enableMountQueryChange),n=br(!1,e.enableDragAndDrop,t.enableDragAndDrop)&&t.enableDragAndDrop!==!1,o=br(!1,e.debugMode,t.debugMode),c=le.useMemo(()=>sn(us,t.controlClassnames,e.controlClassnames),[t.controlClassnames,e.controlClassnames]),E=le.useMemo(()=>({...xs,...t.controlElements,...e.controlElements}),[e.controlElements,t.controlElements]),h=le.useMemo(()=>{const v={};return et(e.translations).forEach(p=>{const y=t.translations;v[p]={...Er[p],...y,...e.translations[p]}}),{...Er,...v}},[t.translations,e.translations]),{controlClassnames:u,controlElements:S,debugMode:b,enableDragAndDrop:m,enableMountQueryChange:C,translations:s,...g}=t;return{controlClassnames:c,controlElements:E,debugMode:o,enableDragAndDrop:n,enableMountQueryChange:r,translations:h,...g}},Ns=({handleOnChange:e,inputType:t,operator:r,value:n})=>{le.useEffect(()=>{t==="number"&&!["between","notBetween","in","notIn"].includes(r)&&(typeof n=="string"&&n.includes(",")||Array.isArray(n))&&e(tt(n)[0]??"")},[e,t,r,n])};var po=function(){var e=function(F,M,Y,te){for(Y=Y||{},te=F.length;te--;Y[F[te]]=M);return Y},t=[1,27],r=[1,31],n=[1,32],o=[1,28],c=[1,29],E=[1,30],h=[1,33],u=[1,34],S=[1,18],b=[1,26],m=[1,12],C=[1,13],s=[1,19],g=[1,20],v=[1,40],p=[1,39],y=[1,41],R=[1,42],d=[1,43],f=[1,36],_=[1,37],N=[1,38],k=[5,37,43,45,49,50,53,54,55,56,60,61,62,63],P=[1,44],A=[1,45],Q=[1,46],T=[5,23,24,25,26,27,28,31,37,40,43,44,45,46,49,50,53,54,55,56,60,61,62,63],x=[7,9,10,12,13,14,16,18,21,35,40,41,44,46],w=[2,36],B=[1,85],j=[43,45,50],q=[5,37,43,45,49,50,53,61,62,63],W=[5,37,43,45,49,50,53,54,55,56,61,62,63],V=[2,37],$=[49,50],J={trace:function(){},yy:{},symbols_:{error:2,main:3,expr:4,EOF:5,string_literal:6,STRING_LIT:7,bytes_literal:8,b:9,B:10,number_literal:11,INT_LIT:12,UINT_LIT:13,FLOAT_LIT:14,boolean_literal:15,BOOL_LIT:16,null_literal:17,NULL_LIT:18,literal:19,ident:20,IDENT:21,relop:22,"==":23,">=":24,">":25,"<=":26,"<":27,"!=":28,relation:29,member:30,in:31,list:32,map:33,negation:34,"!":35,negative:36,"-":37,unary:38,primary:39,DOT:40,"(":41,expr_list:42,")":43,"[":44,"]":45,"{":46,field_inits:47,trailing_comma:48,"}":49,",":50,map_inits:51,math_operation:52,"+":53,"*":54,"/":55,"%":56,conditional_expr:57,conditional_and:58,conditional_or:59,"?":60,":":61,"&&":62,"||":63,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"STRING_LIT",9:"b",10:"B",12:"INT_LIT",13:"UINT_LIT",14:"FLOAT_LIT",16:"BOOL_LIT",18:"NULL_LIT",21:"IDENT",23:"==",24:">=",25:">",26:"<=",27:"<",28:"!=",31:"in",35:"!",37:"-",40:"DOT",41:"(",43:")",44:"[",45:"]",46:"{",49:"}",50:",",53:"+",54:"*",55:"/",56:"%",60:"?",61:":",62:"&&",63:"||"},productions_:[0,[3,2],[6,1],[8,2],[8,2],[11,1],[11,1],[11,1],[15,1],[17,1],[19,1],[19,1],[19,1],[19,1],[19,1],[20,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[29,3],[29,3],[29,3],[34,1],[34,2],[36,1],[36,2],[38,2],[30,1],[30,1],[30,3],[30,6],[30,4],[30,5],[48,0],[48,1],[39,1],[39,2],[39,5],[39,6],[39,3],[39,1],[39,1],[39,1],[32,4],[33,4],[52,3],[52,3],[52,3],[52,3],[52,3],[4,1],[4,1],[4,1],[4,1],[4,1],[4,1],[57,5],[58,3],[59,3],[42,1],[42,3],[47,3],[47,5],[51,3],[51,5]],performAction:function(M,Y,te,ye,ee,I,ce){var O=I.length-1;switch(ee){case 1:return{nodeType:"Main",value:I[O-1]};case 2:this.$={type:"StringLiteral",value:I[O]};break;case 3:case 4:this.$={type:"BytesLiteral",value:I[O]};break;case 5:this.$={type:"IntegerLiteral",value:parseInt(I[O],/x/.test(I[O])?16:10)};break;case 6:this.$={type:"UnsignedIntegerLiteral",value:parseInt(I[O].replace(/u$/i,""),/^0x/.test(I[O])?16:10)};break;case 7:this.$={type:"FloatLiteral",value:parseFloat(I[O])};break;case 8:this.$={type:"BooleanLiteral",value:I[O]==="true"};break;case 9:this.$={type:"NullLiteral",value:null};break;case 10:case 11:case 12:case 13:case 14:case 16:case 17:case 18:case 19:case 20:case 21:case 38:case 43:case 44:case 45:case 53:case 54:case 55:case 56:case 57:case 58:this.$=I[O];break;case 15:this.$={type:"Identifier",value:I[O]};break;case 22:case 23:case 24:this.$={type:"Relation",left:I[O-2],operator:I[O-1],right:I[O]};break;case 25:case 27:this.$=1;break;case 26:case 28:this.$=this.$+=1;break;case 29:this.$={type:"Negation",negations:I[O-1],value:I[O]};break;case 30:case 31:this.$=I[O];break;case 32:this.$={type:"Member",left:I[O-2],right:I[O]};break;case 33:this.$={type:"Member",left:I[O-5],right:I[O-3],list:I[O-1]};break;case 34:this.$={type:"DynamicPropertyAccessor",left:I[O-3],right:I[O-1]};break;case 35:this.$={type:"FieldsObject",left:I[O-4],list:I[O-2],trailingComma:I[O-1]};break;case 36:this.$=!1;break;case 37:this.$=!0;break;case 39:this.$={type:"Property",value:I[O]};break;case 40:this.$={type:"FunctionCall",name:I[O-4],args:I[O-2],trailingComma:I[O-1]};break;case 41:this.$={type:"Property",value:I[O-4],args:I[O-2],trailingComma:I[O-1]};break;case 42:this.$={type:"ExpressionGroup",value:I[O-1]};break;case 46:this.$={type:"List",value:I[O-2],trailingComma:I[O-1]};break;case 47:this.$={type:"Map",value:I[O-2],trailingComma:I[O-1]};break;case 48:this.$={type:"Addition",left:I[O-2],right:I[O]};break;case 49:this.$={type:"Subtraction",left:I[O-2],right:I[O]};break;case 50:this.$={type:"Multiplication",left:I[O-2],right:I[O]};break;case 51:this.$={type:"Division",left:I[O-2],right:I[O]};break;case 52:this.$={type:"Modulo",left:I[O-2],right:I[O]};break;case 59:this.$={type:"ConditionalExpr",condition:I[O-4],valueIfTrue:I[O-2],valueIfFalse:I[O]};break;case 60:this.$={type:"ConditionalAnd",left:I[O-2],right:I[O]};break;case 61:this.$={type:"ConditionalOr",left:I[O-2],right:I[O]};break;case 62:this.$={type:"ExpressionList",value:[I[O]]};break;case 63:this.$=I[O-2],this.$.value.push(I[O]);break;case 64:this.$={type:"FieldInits",value:[{type:"FieldInit",left:I[O-2],right:I[O]}]};break;case 65:this.$=I[O-4],this.$.value.push({type:"FieldInit",left:I[O-2],right:I[O]});break;case 66:this.$={type:"MapInits",value:[{type:"MapInit",left:I[O-2],right:I[O]}]};break;case 67:this.$=I[O-4],this.$.value.push({type:"MapInit",left:I[O-2],right:I[O]});break}},table:[{3:1,4:2,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{1:[3]},{5:[1,35],37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N},e(k,[2,53],{22:47,23:[1,49],24:[1,50],25:[1,51],26:[1,52],27:[1,53],28:[1,54],31:[1,48],40:P,44:A,46:Q}),e(k,[2,54]),e(k,[2,55]),e(k,[2,56]),e(k,[2,57]),e(k,[2,58]),e(T,[2,30]),e(T,[2,31]),e(T,[2,38],{41:[1,55]}),{20:56,21:S},{4:57,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,43]),e(T,[2,44]),e(T,[2,45]),{6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,32:14,33:15,35:[1,59],39:58,40:m,41:C,44:s,46:g},e([5,23,24,25,26,27,28,31,37,40,41,43,44,45,46,49,50,53,54,55,56,60,61,62,63],[2,15]),{4:61,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,42:60,44:s,46:g,52:8,57:4,58:5,59:6},{4:63,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,51:62,52:8,57:4,58:5,59:6},e(T,[2,10]),e(T,[2,11]),e(T,[2,12]),e(T,[2,13]),e(T,[2,14]),e(x,[2,25]),e(T,[2,2]),e(T,[2,5]),e(T,[2,6]),e(T,[2,7]),{6:64,7:t},{6:65,7:t},e(T,[2,8]),e(T,[2,9]),{1:[2,1]},{4:66,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:67,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:68,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:69,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:70,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:71,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:72,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:73,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{20:74,21:S},{4:75,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{20:77,21:S,47:76},{6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,30:78,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g},{32:79,33:80,44:s,46:g},e(x,[2,16]),e(x,[2,17]),e(x,[2,18]),e(x,[2,19]),e(x,[2,20]),e(x,[2,21]),{4:61,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,42:81,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,39],{41:[1,82]}),{37:v,43:[1,83],53:p,54:y,55:R,56:d,60:f,62:_,63:N},e(T,[2,29]),e(x,[2,26]),{45:w,48:84,50:B},e(j,[2,62],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N}),{48:86,49:w,50:[1,87]},{37:v,53:p,54:y,55:R,56:d,60:f,61:[1,88],62:_,63:N},e(T,[2,3]),e(T,[2,4]),{37:v,53:p,54:y,55:R,56:d,60:f,61:[1,89],62:_,63:N},e([5,43,45,49,50,61,62,63],[2,60],{37:v,53:p,54:y,55:R,56:d,60:f}),e([5,43,45,49,50,61,63],[2,61],{37:v,53:p,54:y,55:R,56:d,60:f,62:_}),e(q,[2,48],{54:y,55:R,56:d,60:f}),e(q,[2,49],{54:y,55:R,56:d,60:f}),e(W,[2,50],{60:f}),e(W,[2,51],{60:f}),e(W,[2,52],{60:f}),e(T,[2,32],{41:[1,90]}),{37:v,45:[1,91],53:p,54:y,55:R,56:d,60:f,62:_,63:N},{48:92,49:w,50:[1,93]},{61:[1,94]},e(k,[2,22],{40:P,44:A,46:Q}),e(k,[2,23]),e(k,[2,24]),{43:w,48:95,50:B},{4:61,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,42:96,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,42]),{45:[1,97]},e([43,45],V,{30:3,57:4,58:5,59:6,29:7,52:8,39:9,38:10,20:11,32:14,33:15,19:16,34:17,6:21,11:22,8:23,15:24,17:25,4:98,7:t,9:r,10:n,12:o,13:c,14:E,16:h,18:u,21:S,35:b,40:m,41:C,44:s,46:g}),{49:[1,99]},{4:100,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,49:V,52:8,57:4,58:5,59:6},{4:101,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:102,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:61,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,42:103,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,34]),{49:[1,104]},{20:105,21:S,49:V},{4:106,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{43:[1,107]},{43:w,48:108,50:B},e(T,[2,46]),e(j,[2,63],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N}),e(T,[2,47]),{37:v,53:p,54:y,55:R,56:d,60:f,61:[1,109],62:_,63:N},e($,[2,66],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N}),e(k,[2,59]),{43:[1,110],50:[1,111]},e(T,[2,35]),{61:[1,112]},e($,[2,64],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N}),e(T,[2,40]),{43:[1,113]},{4:114,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,33]),{4:98,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},{4:115,6:21,7:t,8:23,9:r,10:n,11:22,12:o,13:c,14:E,15:24,16:h,17:25,18:u,19:16,20:11,21:S,29:7,30:3,32:14,33:15,34:17,35:b,38:10,39:9,40:m,41:C,44:s,46:g,52:8,57:4,58:5,59:6},e(T,[2,41]),e($,[2,67],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N}),e($,[2,65],{37:v,53:p,54:y,55:R,56:d,60:f,62:_,63:N})],defaultActions:{35:[2,1]},parseError:function(M,Y){if(Y.recoverable)this.trace(M);else{var te=new Error(M);throw te.hash=Y,te}},parse:function(M){var Y=this,te=[0],ye=[null],ee=[],I=this.table,ce="",O=0,z=0,fe=2,ue=1,Ee=ee.slice.call(arguments,1),se=Object.create(this.lexer),he={yy:{}};for(var He in this.yy)Object.prototype.hasOwnProperty.call(this.yy,He)&&(he.yy[He]=this.yy[He]);se.setInput(M,he.yy),he.yy.lexer=se,he.yy.parser=this,typeof se.yylloc>"u"&&(se.yylloc={});var Ve=se.yylloc;ee.push(Ve);var je=se.options&&se.options.ranges;typeof he.yy.parseError=="function"?this.parseError=he.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var ve=function(){var K;return K=se.lex()||ue,typeof K!="number"&&(K=Y.symbols_[K]||K),K},_e,Te,de,we,Ne={},Ae,Ge,oe,ne;;){if(Te=te[te.length-1],this.defaultActions[Te]?de=this.defaultActions[Te]:((_e===null||typeof _e>"u")&&(_e=ve()),de=I[Te]&&I[Te][_e]),typeof de>"u"||!de.length||!de[0]){var U="";ne=[];for(Ae in I[Te])this.terminals_[Ae]&&Ae>fe&&ne.push("'"+this.terminals_[Ae]+"'");se.showPosition?U="Parse error on line "+(O+1)+`:
`+se.showPosition()+`
Expecting `+ne.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":U="Parse error on line "+(O+1)+": Unexpected "+(_e==ue?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(U,{text:se.match,token:this.terminals_[_e]||_e,line:se.yylineno,loc:Ve,expected:ne})}if(de[0]instanceof Array&&de.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Te+", token: "+_e);switch(de[0]){case 1:te.push(_e),ye.push(se.yytext),ee.push(se.yylloc),te.push(de[1]),_e=null,z=se.yyleng,ce=se.yytext,O=se.yylineno,Ve=se.yylloc;break;case 2:if(Ge=this.productions_[de[1]][1],Ne.$=ye[ye.length-Ge],Ne._$={first_line:ee[ee.length-(Ge||1)].first_line,last_line:ee[ee.length-1].last_line,first_column:ee[ee.length-(Ge||1)].first_column,last_column:ee[ee.length-1].last_column},je&&(Ne._$.range=[ee[ee.length-(Ge||1)].range[0],ee[ee.length-1].range[1]]),we=this.performAction.apply(Ne,[ce,z,O,he.yy,de[1],ye,ee].concat(Ee)),typeof we<"u")return we;Ge&&(te=te.slice(0,-1*Ge*2),ye=ye.slice(0,-1*Ge),ee=ee.slice(0,-1*Ge)),te.push(this.productions_[de[1]][0]),ye.push(Ne.$),ee.push(Ne._$),oe=I[te[te.length-2]][te[te.length-1]],te.push(oe);break;case 3:return!0}}return!0}},X=function(){var F={EOF:1,parseError:function(Y,te){if(this.yy.parser)this.yy.parser.parseError(Y,te);else throw new Error(Y)},setInput:function(M,Y){return this.yy=Y||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var Y=M.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),M},unput:function(M){var Y=M.length,te=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var ye=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),te.length-1&&(this.yylineno-=te.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:te?(te.length===ye.length?this.yylloc.first_column:0)+ye[ye.length-te.length].length-te[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(M){this.unput(this.match.slice(M))},pastInput:function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var M=this.match;return M.length<20&&(M+=this._input.substr(0,20-M.length)),(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var M=this.pastInput(),Y=new Array(M.length+1).join("-");return M+this.upcomingInput()+`
`+Y+"^"},test_match:function(M,Y){var te,ye,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),ye=M[0].match(/(?:\r\n?|\n).*/g),ye&&(this.yylineno+=ye.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ye?ye[ye.length-1].length-ye[ye.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],te=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),te)return te;if(this._backtrack){for(var I in ee)this[I]=ee[I];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var M,Y,te,ye;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),I=0;I<ee.length;I++)if(te=this._input.match(this.rules[ee[I]]),te&&(!Y||te[0].length>Y[0].length)){if(Y=te,ye=I,this.options.backtrack_lexer){if(M=this.test_match(te,ee[I]),M!==!1)return M;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(M=this.test_match(Y,ee[ye]),M!==!1?M:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Y=this.next();return Y||this.lex()},begin:function(Y){this.conditionStack.push(Y)},popState:function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},pushState:function(Y){this.begin(Y)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(Y,te,ye,ee){switch(ye){case 0:break;case 1:break;case 2:return 31;case 3:return"as";case 4:return"break";case 5:return"const";case 6:return"continue";case 7:return"else";case 8:return"for";case 9:return"function";case 10:return"if";case 11:return"import";case 12:return"let";case 13:return"loop";case 14:return"package";case 15:return"namespace";case 16:return"return";case 17:return"var";case 18:return"void";case 19:return"while";case 20:return 18;case 21:return 16;case 22:return 16;case 23:return 40;case 24:return 60;case 25:return 61;case 26:return 50;case 27:return 44;case 28:return 45;case 29:return 41;case 30:return 43;case 31:return 28;case 32:return 35;case 33:return 53;case 34:return 37;case 35:return 54;case 36:return 55;case 37:return 56;case 38:return 23;case 39:return 24;case 40:return 25;case 41:return 26;case 42:return 27;case 43:return 46;case 44:return 49;case 45:return 62;case 46:return 63;case 47:return 21;case 48:return 7;case 49:return 7;case 50:return 7;case 51:return 7;case 52:return 12;case 53:return 13;case 54:return 14;case 55:return 5;case 56:return"INVALID";case 57:console.log(te.yytext);break}},rules:[/^(?:[/][/]\s.*\n)/,/^(?:\s+)/,/^(?:in)/,/^(?:as)/,/^(?:break)/,/^(?:const)/,/^(?:continue)/,/^(?:else)/,/^(?:for)/,/^(?:function)/,/^(?:if)/,/^(?:import)/,/^(?:let)/,/^(?:loop)/,/^(?:package)/,/^(?:namespace)/,/^(?:return)/,/^(?:var)/,/^(?:void)/,/^(?:while)/,/^(?:null)/,/^(?:true)/,/^(?:false)/,/^(?:\.)/,/^(?:\?)/,/^(?::)/,/^(?:,)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!=)/,/^(?:!)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:==)/,/^(?:>=)/,/^(?:>)/,/^(?:<=)/,/^(?:<)/,/^(?:\{)/,/^(?:\})/,/^(?:&&)/,/^(?:\|\|)/,/^(?:[_a-zA-Z][_a-zA-Z0-9]*)/,/^(?:[rR]?['][']['](\.|[^'])*['][']['])/,/^(?:[rR]?["]["]["](\.|[^"])*["]["]["])/,/^(?:[rR]?['](\.|[^'\n\r])*['])/,/^(?:[rR]?["](\.|[^"\n\r])*["])/,/^(?:[-]?([0-9]+|0x[0-9a-fA-F]+))/,/^(?:([0-9]+|0x[0-9a-fA-F]+)[uU])/,/^(?:[-]?[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+(\.[0-9]+)?)?)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}};return F}();J.lexer=X;function ge(){this.yy={}}return ge.prototype=J,J.Parser=ge,new ge}();const Qr=e=>e.type==="ExpressionGroup",Os=e=>e.type==="ConditionalAnd",As=e=>e.type==="ConditionalOr",on=e=>e.type==="StringLiteral",Jt=e=>yo(e)||on(e)||e.type==="BooleanLiteral"||e.type==="NullLiteral"||e.type==="BytesLiteral",yo=e=>e.type==="FloatLiteral"||e.type==="IntegerLiteral"||e.type==="UnsignedIntegerLiteral",mo=e=>e.type==="Relation",bo=e=>e.type==="List",go=e=>e.type==="Map",kt=e=>e.type==="Identifier",vo=e=>e.type==="Negation",Eo=e=>e.type==="Member",Un=e=>Eo(e)&&!!e.left&&!!e.right&&!!e.list&&kt(e.left)&&kt(e.right)&&(e.right.value==="contains"||e.right.value==="startsWith"||e.right.value==="endsWith")&&e.list.value.length===1&&(on(e.list.value[0])||kt(e.list.value[0]));function Yt(e){return e.type==="StringLiteral"?e.value.replace(/^((?:'''|"""|'|")?)([\s\S]*?)\1$/gm,"$2"):e.type==="BooleanLiteral"?e.value:e.type==="NullLiteral"||e.type==="BytesLiteral"?null:e.value}const _o=e=>e==="||"?"or":"and",Ro=(e,t)=>{if(t){if(e==="<")return">";if(e==="<=")return">=";if(e===">")return"<";if(e===">=")return"<="}return e==="=="?"=":e},an=e=>{const t=_o(e.type==="ConditionalAnd"?"&&":"||"),{left:r,right:n}=e;return Os(r)||As(r)?[...an(r),t,n]:[r,t,n]},So=e=>{const t=an(e),r=[];let n=0;for(let o=0;o<t.length;o+=2)if(t[o+1]==="and"){n=o;let c=1;for(;t[n+c]==="and";)o+=2,c+=2;const E=t.slice(n,o+1);r.push(E),o-=2}else t[o+1]==="or"&&(o===0||o===t.length-3?((o===0||t[o-1]==="or")&&r.push(t[o]),r.push(t[o+1]),o===t.length-3&&r.push(t[o+2])):(t[o-1]==="and"||r.push(t[o]),r.push(t[o+1])));return r.length===1&&Array.isArray(r[0])?r[0]:r};function Co(e,t={}){const{fields:r,independentCombinators:n,listsAsArrays:o}=t,c=!!n,E=kr(r),h=(C,s,g)=>Ir({fieldName:C,fieldsFlat:E,operator:s,subordinateFieldName:g,getValueSources:t==null?void 0:t.getValueSources}),u={rules:[],...c?{}:{combinator:"and"}},S=(C,s={})=>{const{forwardNegation:g,groupOnlyIfNecessary:v}=s;if(vo(C)){const p=C.negations%2===1,y=Qr(C.value)&&Un(C.value.value)?S(C.value.value,{forwardNegation:p}):S(C.value,{groupOnlyIfNecessary:!0,forwardNegation:p});if(y)return!p||p&&!("rules"in y)&&y.operator.startsWith("doesNot")?c?{rules:[y]}:{combinator:"and",rules:[y]}:c?{rules:[y],not:!0}:{combinator:"and",rules:[y],not:!0}}else if(Qr(C)){const p=S(C.value,{groupOnlyIfNecessary:!0});if(p)return"rules"in p||v&&Qr(C.value)?p:c?{rules:[p]}:{combinator:"and",rules:[p]}}else if(Os(C)||As(C)){if(c){const _=an(C).map(N=>typeof N=="string"?N:S(N));return _.every(Boolean)?{rules:_}:null}const p=So(C),y=p[1],d=p.filter(f=>Array.isArray(f)||!!f&&typeof f!="string"&&"type"in f).map(f=>Array.isArray(f)?f.filter(_=>!!f&&typeof _!="string"&&"type"in _):f).map(f=>Array.isArray(f)?{combinator:"and",rules:f.map(_=>S(_)).filter(_=>!!_)}:S(f)).filter(f=>!!f);if(d.length>0)return{combinator:y,rules:d}}else if(Un(C)){const{left:{value:p},right:{value:y}}=C,R=y==="startsWith"?"beginsWith":y,d=g?`doesNot${R[0].toUpperCase()}${R.slice(1).replace("s","")}`:R,f=C.list.value[0],_=on(f)?Yt(f):f.value,N=C.list.value[0].type==="Identifier"?"field":void 0;if(h(p,d,N==="field"?_:void 0))return N?{field:p,operator:d,value:_,valueSource:N}:{field:p,operator:d,value:_}}else if(mo(C)){let p=null,y,R,d=!1;const{left:f,right:_}=C;kt(f)?(p=f.value,kt(_)?(y=_.value,R="field"):Jt(_)&&(y=Yt(_))):kt(_)&&Jt(f)&&C.operator!=="in"&&(d=!0,p=_.value,y=Yt(f));let N=Ro(C.operator,d);if(y===null&&(N==="="||N==="!="))N=N==="="?"null":"notNull";else if(N==="in"&&bo(_))_.value.value.every(Jt)?y=_.value.value.map(Yt):_.value.value.every(kt)&&(R="field",y=_.value.value.map(k=>k.value)),y&&!o&&(y=y.map(k=>`${k}`).join(","));else if(N==="in"&&go(_)){const k=_.value.value.map(P=>P.left);k.every(P=>Jt(P)||kt(P))&&(y=k.map(P=>Jt(P)?Yt(P):P.value)),y&&!o&&(y=y.map(P=>`${P}`).join(","))}if(p&&h(p,N,R==="field"?y:void 0)&&typeof y<"u")return R?{field:p,operator:N,value:y,valueSource:R}:{field:p,operator:N,value:y}}return null};let b;try{b=po.parse(e).value}catch{return u}const m=S(b);return m?"rules"in m?m:{rules:[m],...c?{}:{combinator:"and"}}:u}const No=e=>ke(e)&&"var"in e,pt=e=>No(e)&&typeof e.var=="string",Hn=e=>ke(e)&&"=="in e,Qn=e=>ke(e)&&"==="in e,qn=e=>ke(e)&&"!="in e,Jn=e=>ke(e)&&"!=="in e,Oo=e=>ke(e)&&"!"in e,Ao=e=>ke(e)&&"!!"in e,ko=e=>ke(e)&&"or"in e,Io=e=>ke(e)&&"and"in e,Lo=e=>ke(e)&&">"in e,To=e=>ke(e)&&">="in e,wo=e=>ke(e)&&"<"in e&&e["<"].length===2,Po=e=>ke(e)&&"<="in e&&e["<="].length===2,xo=e=>ke(e)&&"in"in e&&Array.isArray(e.in[1]),Yn=e=>ke(e)&&"in"in e&&!Array.isArray(e.in[1]),zn=e=>ke(e)&&"<"in e&&Array.isArray(e["<"])&&e["<"].length===3,Vo=e=>ke(e)&&"<="in e&&Array.isArray(e["<="])&&e["<="].length===3,Xn=e=>ke(e)&&"startsWith"in e,Kn=e=>ke(e)&&"endsWith"in e,Zn={combinator:"and",rules:[]};function Do(e,t={}){const r=kr(t.fields),{getValueSources:n,listsAsArrays:o,jsonLogicOperations:c}=t,E=(m,C,s)=>Ir({fieldName:m,fieldsFlat:r,operator:C,subordinateFieldName:s,getValueSources:n});function h(m,C){if(C&&typeof m!="object")return!1;const s=Object.keys(m)[0],g=m[s];if(Io(m))return{combinator:"and",rules:m.and.map(f=>h(f)).filter(Boolean)};if(ko(m))return{combinator:"or",rules:m.or.map(f=>h(f)).filter(Boolean)};if(Oo(m)){const f=h(m["!"]);return f?!Kt(f)&&(f.operator==="between"||f.operator==="in"||f.operator==="contains"||f.operator==="beginsWith"||f.operator==="endsWith")?{...f,operator:Xr[f.operator]}:zn(m["!"])&&Kt(f)?{...f,not:!0}:{combinator:"and",rules:[f],not:!0}:!1}else if(Ao(m))return h(m["!!"])||!1;let v=!1,p="",y="=",R="",d;if(c&&et(c).includes(s))v=c[s](g);else if(Hn(m)||Qn(m)||qn(m)||Jn(m)||Lo(m)||To(m)||wo(m)||Po(m)||Yn(m)||Xn(m)||Kn(m)){const[f,_]=g;if(pt(f)&&!ke(_))p=f.var,R=_;else if(!ke(f)&&pt(_))p=_.var,R=f;else if(pt(f)&&pt(_))p=f.var,R=_.var,d="field";else return!1;Hn(m)||Qn(m)?y=R===null?"null":"=":qn(m)||Jn(m)?y=R===null?"notNull":"!=":Yn(m)?y="contains":Xn(m)?y="beginsWith":Kn(m)?y="endsWith":y=s,E(p,y,d==="field"?R:void 0)&&(v={field:p,operator:y,value:R,valueSource:d})}else if(zn(m)&&pt(m["<"][1])){p=m["<"][1].var;const f=[m["<"][0],m["<"][2]];if(f.every(pt)||f.every(_=>typeof _=="string")||f.every(_=>typeof _=="number")||f.every(_=>typeof _=="boolean"))return h({and:[{">":[{var:p},f[0]]},{"<":[{var:p},f[1]]}]})||!1}else if(Vo(m)&&pt(m["<="][1])){p=m["<="][1].var,y="between";const f=[m["<="][0],m["<="][2]];if(m["<="].every(pt)){const _=f;d="field";const N=_.map(k=>k.var).filter(k=>E(p,y,k));R=o?N:N.join(",")}else(f.every(_=>typeof _=="string")||f.every(_=>typeof _=="number")||f.every(_=>typeof _=="boolean"))&&(R=o?f:f.map(_=>`${_}`).join(","));E(p,y)&&R.length>=2&&(v={field:p,operator:y,value:R,valueSource:d})}else if(xo(m)&&pt(g[0])){if(p=g[0].var,y="in",m.in[1].every(pt)){d="field";const f=m.in[1].map(_=>_.var).filter(_=>E(p,y,_));R=o?f:f.join(",")}else(m.in[1].every(f=>typeof f=="string")||m.in[1].every(f=>typeof f=="number")||m.in[1].every(f=>typeof f=="boolean"))&&(R=o?m.in[1]:m.in[1].map(f=>`${f}`).join(","));R.length>0&&(v={field:p,operator:y,value:R,valueSource:d})}return v?C?{combinator:"and",rules:[v]}:v:!1}let u=e;if(typeof e=="string")try{u=JSON.parse(e)}catch{return Zn}const S=h(u,!0),b=S||Zn;return t.independentCombinators?sr(b):b}const Ft=e=>typeof e=="string"?e:e.source,Bo=e=>typeof e=="string"||typeof e=="number"||typeof e=="boolean",Go={$eq:"=",$ne:"!=",$gt:">",$gte:">=",$lt:"<",$lte:"<="},qr={combinator:"and",rules:[]};function $o(e,t={}){const r=!!t.listsAsArrays,n=kr(t.fields),o=t.getValueSources,c=(C,s,g)=>Ir({fieldName:C,fieldsFlat:n,operator:s,subordinateFieldName:g,getValueSources:o});function E(C,s,g){let v="=",p="";if(s==="$eq"||s==="$ne"||s==="$gt"||s==="$gte"||s==="$lt"||s==="$lte"){if(s==="$ne"&&g===null){if(c(C,"notNull"))return{field:C,operator:"notNull",value:null}}else if(v=Go[s],c(C,v))return{field:C,operator:v,value:g}}else if(s==="$regex"&&/^[^^].*[^$]$/.test(Ft(g))){if(c(C,"contains"))return{field:C,operator:"contains",value:Ft(g)}}else if(s==="$regex"&&/^\^.*[^$]/.test(Ft(g))){if(c(C,"beginsWith"))return{field:C,operator:"beginsWith",value:Ft(g).replace(/^\^/,"")}}else if(s==="$regex"&&/[^^].*\$/.test(Ft(g))){if(c(C,"endsWith"))return{field:C,operator:"endsWith",value:Ft(g).replace(/\$$/,"")}}else if(s==="$in"&&Array.isArray(g)){if(c(C,"in"))return r?p=g:p=g.map(y=>`${y}`).join(","),{field:C,operator:"in",value:p}}else if(s==="$nin"&&Array.isArray(g)&&c(C,"notIn"))return r?p=g:p=g.map(y=>`${y}`).join(","),{field:C,operator:"notIn",value:p};return!1}function h(C,s){let g="";if(C==="$and"){if(!Array.isArray(s)||s.length===0||!s.every(ke))return!1;if(s.length===2&&s.every(p=>et(p).length===1)){const[p,y]=s,[R,d]=s.map(f=>et(f)[0]);if(R===d&&ke(p[R])&&et(p[R]).length===1&&ke(y[d])&&et(y[d]).length===1&&("$gte"in p[R]&&"$lte"in y[d]&&y[d].$lte>=p[R].$gte||"$lte"in p[R]&&"$gte"in y[d]&&p[R].$lte>=y[d].$gte)){const[f,_]=[p[R].$gte??p[R].$lte,y[d].$lte??y[d].$gte];let N=r?[f,_]:`${f},${_}`;return f>_&&(N=r?[_,f]:`${_},${f}`),{field:R,operator:"between",value:N}}}const v=s.map(p=>u(p)).filter(Boolean);return v.length>0?{combinator:"and",rules:v}:!1}else if(C==="$or"){if(!Array.isArray(s)||s.length===0||!s.every(ke))return!1;if(s.length===2&&s.every(p=>et(p).length===1)){const[p,y]=s,[R,d]=s.map(f=>et(f)[0]);if(R===d&&ke(p[R])&&et(p[R]).length===1&&ke(y[d])&&et(y[d]).length===1&&("$gt"in p[R]&&"$lt"in y[d]&&p[R].$gt>=y[d].$lt||"$lt"in p[R]&&"$gt"in y[d]&&y[d].$gt>=p[R].$lt)){const[f,_]=[p[R].$gt??p[R].$lt,y[d].$lt??y[d].$gt];let N=r?[f,_]:`${f},${_}`;return f>_&&(N=r?[_,f]:`${_},${f}`),{field:R,operator:"notBetween",value:N}}}const v=s.map(p=>u(p)).filter(Boolean);return v.length>0?{combinator:"or",rules:v}:!1}else if(C==="$not"&&ke(s)){const v=u(s);return v?!Kt(v)&&(v.operator==="between"||v.operator==="in"||v.operator==="contains"||v.operator==="beginsWith"||v.operator==="endsWith")?{...v,operator:Xr[v.operator]}:{combinator:"and",rules:[v],not:!0}:!1}else if(C==="$expr"){const v=et(s)[0];if(/^\$(eq|gte?|lte?|n?in)$/.test(v)&&Array.isArray(s[v])&&s[v].length===2&&typeof s[v][0]=="string"&&/^\$/.test(s[v][0])){g=s[v][0].replace(/^\$/,"");const p=s[v][1];if(typeof p=="string"&&/^\$/.test(p)||Array.isArray(p)&&p.every(y=>typeof y=="string")&&p.every(y=>/^\$/.test(y))){const y=Array.isArray(p)?p.map(d=>d.replace(/^\$/,"")):p.replace(/^\$/,""),R=E(g,v,y);if(R)return typeof R.value=="string"&&!c(g,R.operator,R.value)?!1:{...R,valueSource:"field"}}return E(g,v,s[v][1])}}else if(/^[^$]/.test(C)){if(g=C,Bo(s)){if(c(g,"="))return{field:g,operator:"=",value:s}}else if(s===null){if(c(g,"null"))return{field:g,operator:"null",value:s}}else if(ke(s)){let v=!1;const p=et(s).filter(R=>/^\$(eq|ne|gte?|lte?|n?in|regex)$/.test(R)).sort();if(p.length===0)return!1;"$gte"in s&&"$lte"in s&&(v={field:g,operator:"between",value:r?[s.$gte,s.$lte]:`${s.$gte},${s.$lte}`});const y=p.filter(R=>!(v&&(R==="$gte"||R==="$lte"))).map(R=>E(g,R,s[R])).filter(Boolean);return v&&y.unshift(v),y.length===0?!1:y.length===1?y[0]:{combinator:"and",rules:y}}}return!1}function u(C){const s=et(C).map(g=>h(g,C[g])).filter(Boolean);return s.length===1?s[0]:s.length>1?{combinator:"and",rules:s}:!1}let S=e;if(typeof e=="string")try{S=JSON.parse(e)}catch{return qr}if(!ke(S))return qr;const b=u(S),m=b?Kt(b)?b:{combinator:"and",rules:[b]}:qr;return t.independentCombinators?sr(m):m}var Fo=function(){var e=function(At,re,ie,be){for(ie=ie||{},be=At.length;be--;ie[At[be]]=re);return ie},t=[1,8],r=[1,4],n=[2,4],o=[1,11],c=[1,10],E=[2,16],h=[1,14],u=[1,15],S=[1,16],b=[6,8],m=[2,147],C=[1,19],s=[1,20],g=[16,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],v=[16,18,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],p=[2,161],y=[1,29],R=[6,8,14,17,146,150,152,154],d=[1,42],f=[1,61],_=[1,53],N=[1,60],k=[1,62],P=[1,63],A=[1,64],Q=[1,65],T=[1,66],x=[1,59],w=[1,54],B=[1,55],j=[1,56],q=[1,57],W=[1,58],V=[1,43],$=[1,44],J=[1,45],X=[1,47],ge=[1,34],F=[1,67],M=[16,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],Y=[6,8,14,17,150,152,154],te=[2,144],ye=[1,76],ee=[1,77],I=[6,8,14,17,43,133,138,144,146,150,152,154],ce=[1,80],O=[1,79],z=[1,81],fe=[6,8,14,17,36,43,49,50,51,71,72,74,77,89,109,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ue=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,109,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Ee=[1,102],se=[1,100],he=[1,101],He=[1,96],Ve=[1,97],je=[1,98],ve=[1,99],_e=[1,103],Te=[1,104],de=[1,105],we=[1,106],Ne=[1,107],Ae=[1,108],Ge=[2,106],oe=[6,8,14,17,34,36,43,45,49,50,51,71,72,74,77,79,81,89,93,94,95,96,97,98,99,100,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ne=[6,8,14,17,34,36,43,45,49,50,51,71,72,74,77,79,81,89,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],U=[1,110],K=[1,117],Qe=[2,64],at=[1,119],dt=[16,35,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],Xe=[16,29,35,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,121,195],Fe=[1,164],Me=[17,43],it=[6,8,14,16,17,34,35,36,43,45,49,50,51,54,55,57,58,60,67,71,72,74,76,77,79,81,82,83,84,86,87,88,89,90,91,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182,192,193,194,195],St=[2,59],st=[1,174],Ct=[1,172],Nt=[1,173],Tt=[6,8,138,146],G=[16,35,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],H=[6,8,14,17,138,144,146,150,152,154],Z=[6,8,14,17,36,43,49,50,51,71,72,74,77,89,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Ie=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,93,94,95,96,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],rt=[6,8,14,17,34,36,43,49,50,51,71,72,74,77,79,81,89,93,94,95,96,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],ht=[16,35,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],Ot=[16,35,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],gt=[16,35,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],Dt=[71,74,77],or=[16,35,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],ar=[1,236],ir=[1,237],l=[6,8,14,17],L=[6,8,14,17,43,157],D=[1,254],ae=[1,250],Oe=[2,198],Le=[1,258],Re=[1,259],me=[6,8,14,17,43,129,135,138,144,146,150,152,154,182],Je=[1,261],xe=[1,264],De=[1,265],Ke=[1,266],ut=[1,267],Bt=[2,175],ot=[1,263],qe=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182],bn=[6,8,14,17,135,138,144,146,150,152,154],gn=[1,279],vn=[2,180],En=[170,173],Tr=[6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],_n=[2,200],Rn=[1,284],wr=[1,296],Sn=[1,304],Cn=[1,305],Nn=[1,306],On=[6,8,14,17,138,146,150,152,154],An=[1,316],Pr=[1,322],xr=[1,323],Vr=[2,205],Dr=[1,334],kn=[16,152],Br=[6,8,14,17,152,154],lr=[1,350],Gr={trace:function(){},yy:{},symbols_:{error:2,main:3,selectClause:4,semicolonOpt:5,EOF:6,unionClause:7,";":8,unionClauseNotParenthesized:9,unionClauseParenthesized:10,order_by_opt:11,limit_opt:12,selectClauseParenthesized:13,UNION:14,distinctOpt:15,"(":16,")":17,SELECT:18,highPriorityOpt:19,maxStateMentTimeOpt:20,straightJoinOpt:21,sqlSmallResultOpt:22,sqlBigResultOpt:23,sqlBufferResultOpt:24,sqlCacheOpt:25,sqlCalcFoundRowsOpt:26,selectExprList:27,selectDataSetOpt:28,ALL:29,DISTINCT:30,DISTINCTROW:31,HIGH_PRIORITY:32,MAX_STATEMENT_TIME:33,"=":34,NUMERIC:35,STRAIGHT_JOIN:36,SQL_SMALL_RESULT:37,SQL_BIG_RESULT:38,SQL_BUFFER_RESULT:39,SQL_CACHE:40,SQL_NO_CACHE:41,SQL_CALC_FOUND_ROWS:42,",":43,selectExpr:44,"*":45,SELECT_EXPR_STAR:46,expr:47,selectExprAliasOpt:48,AS:49,IDENTIFIER:50,STRING:51,string:52,number:53,EXPONENT_NUMERIC:54,HEX_NUMERIC:55,boolean:56,TRUE:57,FALSE:58,null:59,NULL:60,literal:61,place_holder:62,function_call:63,function_call_param_list:64,function_call_param:65,identifier:66,DOT:67,identifier_list:68,case_expr_opt:69,when_then_list:70,WHEN:71,THEN:72,case_when_else:73,ELSE:74,case_when:75,CASE:76,END:77,simple_expr_prefix:78,"+":79,simple_expr:80,"-":81,"~":82,"!":83,BINARY:84,expr_list:85,ROW:86,EXISTS:87,"{":88,"}":89,"||":90,WILDCARD:91,bit_expr:92,"|":93,"&":94,"<<":95,">>":96,"/":97,DIV:98,MOD:99,"%":100,"^":101,not_opt:102,NOT:103,escape_opt:104,ESCAPE:105,predicate:106,IN:107,BETWEEN:108,AND:109,SOUNDS:110,LIKE:111,REGEXP:112,comparison_operator:113,">=":114,">":115,"<=":116,"<":117,"<>":118,"!=":119,sub_query_data_set_opt:120,ANY:121,boolean_primary:122,IS:123,boolean_extra:124,UNKNOWN:125,OR:126,XOR:127,where_opt:128,WHERE:129,group_by_opt:130,group_by:131,roll_up_opt:132,WITH:133,ROLLUP:134,GROUP_BY:135,group_by_order_by_item_list:136,order_by:137,ORDER_BY:138,group_by_order_by_item:139,sort_opt:140,ASC:141,DESC:142,having_opt:143,HAVING:144,limit:145,LIMIT:146,OFFSET:147,procedure_opt:148,procedure:149,PROCEDURE:150,for_update_lock_in_share_mode_opt:151,FOR:152,UPDATE:153,LOCK:154,SHARE:155,MODE:156,FROM:157,table_references:158,partitionOpt:159,escaped_table_reference:160,table_reference:161,OJ:162,join_inner_cross:163,INNER:164,CROSS:165,left_right:166,LEFT:167,RIGHT:168,out_opt:169,OUTER:170,left_right_out_opt:171,join_table:172,JOIN:173,table_factor:174,join_condition:175,on_join_condition:176,NATURAL:177,join_condition_opt:178,ON:179,USING:180,partition_names:181,PARTITION:182,aliasOpt:183,index_or_key:184,INDEX:185,KEY:186,for_opt:187,identifier_list_opt:188,index_hint_list_opt:189,index_hint_list:190,index_hint:191,USE:192,IGNORE:193,FORCE:194,PLACE_HOLDER:195,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:";",14:"UNION",16:"(",17:")",18:"SELECT",29:"ALL",30:"DISTINCT",31:"DISTINCTROW",32:"HIGH_PRIORITY",33:"MAX_STATEMENT_TIME",34:"=",35:"NUMERIC",36:"STRAIGHT_JOIN",37:"SQL_SMALL_RESULT",38:"SQL_BIG_RESULT",39:"SQL_BUFFER_RESULT",40:"SQL_CACHE",41:"SQL_NO_CACHE",42:"SQL_CALC_FOUND_ROWS",43:",",45:"*",46:"SELECT_EXPR_STAR",49:"AS",50:"IDENTIFIER",51:"STRING",54:"EXPONENT_NUMERIC",55:"HEX_NUMERIC",57:"TRUE",58:"FALSE",60:"NULL",67:"DOT",71:"WHEN",72:"THEN",74:"ELSE",76:"CASE",77:"END",79:"+",81:"-",82:"~",83:"!",84:"BINARY",86:"ROW",87:"EXISTS",88:"{",89:"}",90:"||",91:"WILDCARD",93:"|",94:"&",95:"<<",96:">>",97:"/",98:"DIV",99:"MOD",100:"%",101:"^",103:"NOT",105:"ESCAPE",107:"IN",108:"BETWEEN",109:"AND",110:"SOUNDS",111:"LIKE",112:"REGEXP",114:">=",115:">",116:"<=",117:"<",118:"<>",119:"!=",121:"ANY",123:"IS",125:"UNKNOWN",126:"OR",127:"XOR",129:"WHERE",133:"WITH",134:"ROLLUP",135:"GROUP_BY",138:"ORDER_BY",141:"ASC",142:"DESC",144:"HAVING",146:"LIMIT",147:"OFFSET",150:"PROCEDURE",152:"FOR",153:"UPDATE",154:"LOCK",155:"SHARE",156:"MODE",157:"FROM",162:"OJ",164:"INNER",165:"CROSS",167:"LEFT",168:"RIGHT",170:"OUTER",173:"JOIN",177:"NATURAL",179:"ON",180:"USING",182:"PARTITION",185:"INDEX",186:"KEY",192:"USE",193:"IGNORE",194:"FORCE",195:"PLACE_HOLDER"},productions_:[0,[3,3],[3,3],[5,1],[5,0],[7,1],[7,3],[10,4],[10,4],[13,3],[9,4],[9,4],[4,12],[15,1],[15,1],[15,1],[15,0],[19,1],[19,0],[20,3],[20,0],[21,1],[21,0],[22,1],[22,0],[23,1],[23,0],[24,1],[24,0],[25,0],[25,1],[25,1],[26,1],[26,0],[27,3],[27,1],[44,1],[44,1],[44,2],[48,0],[48,2],[48,1],[48,2],[48,1],[52,1],[53,1],[53,1],[53,1],[56,1],[56,1],[59,1],[61,1],[61,1],[61,1],[61,1],[61,1],[63,4],[64,3],[64,1],[65,0],[65,1],[65,1],[65,2],[65,1],[66,1],[66,3],[68,1],[68,3],[69,0],[69,1],[70,4],[70,5],[73,0],[73,2],[75,5],[78,2],[78,2],[78,2],[78,2],[78,2],[80,1],[80,1],[80,1],[80,1],[80,3],[80,4],[80,3],[80,4],[80,4],[80,1],[80,3],[80,3],[80,5],[92,1],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[92,3],[102,0],[102,1],[104,0],[104,2],[106,1],[106,6],[106,6],[106,6],[106,4],[106,5],[106,4],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[120,1],[120,1],[122,1],[122,4],[122,3],[122,6],[124,1],[124,1],[47,1],[47,4],[47,2],[47,3],[47,3],[47,3],[85,1],[85,3],[128,0],[128,2],[130,0],[130,1],[132,0],[132,2],[131,3],[11,0],[11,1],[137,3],[136,1],[136,3],[139,2],[140,0],[140,1],[140,1],[143,0],[143,2],[145,2],[145,4],[145,4],[12,0],[12,1],[148,0],[148,1],[149,2],[151,0],[151,2],[151,4],[28,0],[28,10],[158,1],[158,3],[160,1],[160,4],[163,0],[163,1],[163,1],[166,1],[166,1],[169,0],[169,1],[171,0],[171,2],[172,4],[172,5],[172,4],[172,6],[172,5],[178,0],[178,1],[176,2],[175,1],[175,4],[161,1],[161,1],[181,1],[181,3],[159,0],[159,4],[183,0],[183,2],[183,1],[184,1],[184,1],[187,0],[187,2],[187,2],[187,2],[188,0],[188,1],[189,0],[189,1],[190,1],[190,3],[191,6],[191,6],[191,6],[174,4],[174,4],[174,3],[62,1]],performAction:function(re,ie,be,Pe,Ce,a,Fr){var i=a.length-1;switch(Ce){case 1:case 2:return{nodeType:"Main",value:a[i-2],hasSemicolon:a[i-1]};case 3:case 145:this.$=!0;break;case 4:this.$=!1;break;case 5:case 13:case 14:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 30:case 31:case 32:case 51:case 52:case 53:case 54:case 55:case 60:case 61:case 63:case 69:case 73:case 80:case 81:case 82:case 83:case 89:case 93:case 107:case 109:case 110:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 130:case 132:case 141:case 143:case 148:case 154:case 155:case 157:case 162:case 164:case 165:case 176:case 177:case 178:case 179:case 181:case 190:case 192:case 194:case 195:case 203:case 204:case 210:case 212:this.$=a[i];break;case 6:this.$=a[i-2],this.$.orderBy=a[i-1],this.$.limit=a[i];break;case 7:case 8:this.$={type:"Union",left:a[i-3],distinctOpt:a[i-1],right:a[i]};break;case 9:this.$={type:"SelectParenthesized",value:a[i-1]};break;case 10:case 11:this.$={type:"Union",left:a[i-3],distinctOpt:a[i-1],right:a[i]};break;case 12:this.$={type:"Select",distinctOpt:a[i-10],highPriorityOpt:a[i-9],maxStateMentTimeOpt:a[i-8],straightJoinOpt:a[i-7],sqlSmallResultOpt:a[i-6],sqlBigResultOpt:a[i-5],sqlBufferResultOpt:a[i-4],sqlCacheOpt:a[i-3],sqlCalcFoundRowsOpt:a[i-2],selectItems:a[i-1],from:a[i].from,partition:a[i].partition,where:a[i].where,groupBy:a[i].groupBy,having:a[i].having,orderBy:a[i].orderBy,limit:a[i].limit,procedure:a[i].procedure,updateLockMode:a[i].updateLockMode};break;case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 29:case 33:case 59:case 68:case 72:case 106:case 108:case 140:case 142:case 144:case 147:case 153:case 156:case 161:case 163:case 166:case 175:case 180:case 189:case 198:case 205:case 209:case 211:this.$=null;break;case 34:a[i-2].value.push(a[i]);break;case 35:this.$={type:"SelectExpr",value:[a[i]]};break;case 36:case 37:case 64:this.$={type:"Identifier",value:a[i]};break;case 38:this.$=a[i-1],this.$.alias=a[i].alias,this.$.hasAs=a[i].hasAs;break;case 39:case 200:this.$={alias:null,hasAs:null};break;case 40:case 42:this.$={alias:a[i],hasAs:!0};break;case 41:this.$={alias:a[i],hasAs:!1};break;case 43:this.$={alias:a[$01],hasAs:!1};break;case 44:this.$={type:"String",value:a[i]};break;case 45:case 46:case 47:this.$={type:"Number",value:a[i]};break;case 48:this.$={type:"Boolean",value:"TRUE"};break;case 49:this.$={type:"Boolean",value:"FALSE"};break;case 50:this.$={type:"Null",value:"null"};break;case 56:this.$={type:"FunctionCall",name:a[i-3],params:a[i-1]};break;case 57:a[i-2].push(a[i]),this.$=a[i-2];break;case 58:this.$=[a[i]];break;case 62:this.$={type:"FunctionCallParam",distinctOpt:a[i-1],value:a[i]};break;case 65:this.$=a[i-2],a[i-2].value+="."+a[i];break;case 66:this.$={type:"IdentifierList",value:[a[i]]};break;case 67:case 172:this.$=a[i-2],a[i-2].value.push(a[i]);break;case 70:this.$={type:"WhenThenList",value:[{when:a[i-2],then:a[i]}]};break;case 71:this.$=a[i-4],this.$.value.push({when:a[i-2],then:a[i]});break;case 74:this.$={type:"CaseWhen",caseExprOpt:a[i-3],whenThenList:a[i-2],else:a[i-1]};break;case 75:case 76:case 77:case 78:case 79:this.$={type:"Prefix",prefix:a[i-1],value:a[i]};break;case 84:this.$={type:"SimpleExprParentheses",value:a[i-1]};break;case 85:this.$={type:"SimpleExprParentheses",value:a[i-2],hasRow:!0};break;case 86:this.$={type:"SubQuery",value:a[i-1]};break;case 87:this.$={type:"SubQuery",value:a[i-1],hasExists:!0};break;case 88:this.$={type:"IdentifierExpr",identifier:a[i-2],value:a[i-1]};break;case 90:this.$={type:"StartsWithExpr",value:a[i-2]};break;case 91:this.$={type:"EndsWithExpr",value:a[i]};break;case 92:this.$={type:"ContainsExpr",value:a[i-2]};break;case 94:this.$={type:"BitExpression",operator:"|",left:a[i-2],right:a[i]};break;case 95:this.$={type:"BitExpression",operator:"&",left:a[i-2],right:a[i]};break;case 96:this.$={type:"BitExpression",operator:"<<",left:a[i-2],right:a[i]};break;case 97:this.$={type:"BitExpression",operator:">>",left:a[i-2],right:a[i]};break;case 98:this.$={type:"BitExpression",operator:"+",left:a[i-2],right:a[i]};break;case 99:this.$={type:"BitExpression",operator:"-",left:a[i-2],right:a[i]};break;case 100:this.$={type:"BitExpression",operator:"*",left:a[i-2],right:a[i]};break;case 101:this.$={type:"BitExpression",operator:"/",left:a[i-2],right:a[i]};break;case 102:this.$={type:"BitExpression",operator:"DIV",left:a[i-2],right:a[i]};break;case 103:this.$={type:"BitExpression",operator:"MOD",left:a[i-2],right:a[i]};break;case 104:this.$={type:"BitExpression",operator:"%",left:a[i-2],right:a[i]};break;case 105:this.$={type:"BitExpression",operator:"^",left:a[i-2],right:a[i]};break;case 111:this.$={type:"InSubQueryPredicate",hasNot:a[i-4],left:a[i-5],right:a[i-1]};break;case 112:this.$={type:"InExpressionListPredicate",hasNot:a[i-4],left:a[i-5],right:a[i-1]};break;case 113:this.$={type:"BetweenPredicate",hasNot:a[i-4],left:a[i-5],right:{left:a[i-2],right:a[i]}};break;case 114:this.$={type:"SoundsLikePredicate",hasNot:!1,left:a[i-3],right:a[i]};break;case 115:this.$={type:"LikePredicate",hasNot:a[i-3],left:a[i-4],right:a[i-1],escape:a[i]};break;case 116:this.$={type:"RegexpPredicate",hasNot:a[i-2],left:a[i-3],right:a[i]};break;case 127:this.$={type:"IsNullBooleanPrimary",hasNot:a[i-1],value:a[i-3]};break;case 128:this.$={type:"ComparisonBooleanPrimary",left:a[i-2],operator:a[i-1],right:a[i]};break;case 129:this.$={type:"ComparisonSubQueryBooleanPrimary",operator:a[i-4],subQueryOpt:a[i-3],left:a[i-5],right:a[i-1]};break;case 131:this.$={type:"BooleanExtra",value:a[i]};break;case 133:this.$={type:"IsExpression",hasNot:a[i-1],left:a[i-3],right:a[i]};break;case 134:this.$={type:"NotExpression",value:a[i]};break;case 135:this.$={type:"OrExpression",operator:a[i-1],left:a[i-2],right:a[i]};break;case 136:this.$={type:"AndExpression",operator:a[i-1],left:a[i-2],right:a[i]};break;case 137:this.$={type:"XorExpression",operator:a[i-1],left:a[i-2],right:a[i]};break;case 138:this.$={type:"ExpressionList",value:[a[i]]};break;case 139:case 214:this.$=a[i-2],this.$.value.push(a[i]);break;case 146:this.$={type:"GroupBy",value:a[i-1],rollUp:a[i]};break;case 149:this.$={type:"OrderBy",value:a[i-1],rollUp:a[i]};break;case 150:case 196:this.$=[a[i]];break;case 151:this.$=a[i-2],a[i-2].push(a[i]);break;case 152:this.$={type:"GroupByOrderByItem",value:a[i-1],sortOpt:a[i]};break;case 158:this.$={type:"Limit",value:[a[i]]};break;case 159:this.$={type:"Limit",value:[a[i-2],a[i]]};break;case 160:this.$={type:"Limit",value:[a[i],a[i-2]],offsetMode:!0};break;case 167:this.$=a[i-1]+" "+a[i];break;case 168:this.$=a[i-3]+" "+a[i-2]+" "+a[i-1]+" "+a[i];break;case 169:this.$={};break;case 170:this.$={from:a[i-8],partition:a[i-7],where:a[i-6],groupBy:a[i-5],having:a[i-4],orderBy:a[i-3],limit:a[i-2],procedure:a[i-1],updateLockMode:a[i]};break;case 171:this.$={type:"TableReferences",value:[a[i]]};break;case 173:this.$={type:"TableReference",value:a[i]};break;case 174:this.$={type:"TableReference",hasOj:!0,value:a[i-1]};break;case 182:this.$={leftRight:null,outOpt:null};break;case 183:this.$={leftRight:a[i-1],outOpt:a[i]};break;case 184:this.$={type:"InnerCrossJoinTable",innerCrossOpt:a[i-2],left:a[i-3],right:a[i],condition:null};break;case 185:this.$={type:"InnerCrossJoinTable",innerCrossOpt:a[i-3],left:a[i-4],right:a[i-1],condition:a[i]};break;case 186:this.$={type:"StraightJoinTable",left:a[i-3],right:a[i-1],condition:a[i]};break;case 187:this.$={type:"LeftRightJoinTable",leftRight:a[i-4],outOpt:a[i-3],left:a[i-5],right:a[i-1],condition:a[i]};break;case 188:this.$={type:"NaturalJoinTable",leftRight:a[i-2].leftRight,outOpt:a[i-2].outOpt,left:a[i-4],right:a[i]};break;case 191:this.$={type:"OnJoinCondition",value:a[i]};break;case 193:this.$={type:"UsingJoinCondition",value:a[i-1]};break;case 197:this.$=a[i-2],a[i-2].push(a[i]);break;case 199:this.$={type:"Partitions",value:a[i-1]};break;case 201:this.$={hasAs:!0,alias:a[i]};break;case 202:this.$={hasAs:!1,alias:a[i]};break;case 206:case 207:case 208:this.$={type:"ForOptIndexHint",value:a[i]};break;case 213:this.$={type:"IndexHintList",value:[a[i]]};break;case 215:this.$={type:"UseIndexHint",value:a[i-1],forOpt:a[i-3],indexOrKey:a[i-4]};break;case 216:this.$={type:"IgnoreIndexHint",value:a[i-1],forOpt:a[i-3],indexOrKey:a[i-4]};break;case 217:this.$={type:"ForceIndexHint",value:a[i-1],forOpt:a[i-3],indexOrKey:a[i-4]};break;case 218:this.$={type:"TableFactor",value:a[i-3],partition:a[i-2],alias:a[i-1].alias,hasAs:a[i-1].hasAs,indexHintOpt:a[i]};break;case 219:this.$={type:"TableFactor",value:{type:"SubQuery",value:a[i-2]},alias:a[i].alias,hasAs:a[i].hasAs};break;case 220:this.$=a[i-1],this.$.hasParentheses=!0;break;case 221:this.$={type:"PlaceHolder",value:a[i],param:a[i].slice(2,-1)};break}},table:[{3:1,4:2,7:3,9:5,10:6,13:7,16:t,18:r},{1:[3]},{5:9,6:n,8:o,14:c},{5:12,6:n,8:o},e([16,32,33,35,36,37,38,39,40,41,42,45,46,50,51,54,55,57,58,60,76,79,81,82,83,84,86,87,88,91,103,195],E,{15:13,29:h,30:u,31:S}),e(b,[2,5]),e([6,8,146],m,{11:17,137:18,138:C}),{14:s},{4:21,18:r},{6:[1,22]},{15:23,18:E,29:h,30:u,31:S},{6:[2,3]},{6:[1,24]},e(g,[2,18],{19:25,32:[1,26]}),e(v,[2,13]),e(v,[2,14]),e(v,[2,15]),e(b,p,{12:27,145:28,146:y}),e(R,[2,148]),{16:d,35:f,47:32,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,136:30,139:31,195:F},{15:68,16:E,29:h,30:u,31:S},{17:[1,69]},{1:[2,1]},{4:70,9:71,18:r},{1:[2,2]},e(M,[2,20],{20:72,33:[1,73]}),e(g,[2,17]),e(b,[2,6]),e(Y,[2,162]),{35:[1,74]},e(R,te,{132:75,43:ye,133:ee}),e(I,[2,150]),e(I,[2,153],{140:78,109:ce,126:O,127:z,141:[1,82],142:[1,83]}),e(fe,[2,132],{113:85,34:[1,86],114:[1,87],115:[1,88],116:[1,89],117:[1,90],118:[1,91],119:[1,92],123:[1,84]}),{16:d,35:f,47:93,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(ue,[2,126]),e(ue,[2,110],{102:94,45:Ee,79:se,81:he,93:He,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we,101:Ne,103:Ae,107:Ge,108:Ge,111:Ge,112:Ge,110:[1,95]}),e(oe,[2,93]),e(ne,[2,80]),e(ne,[2,81],{67:U,90:[1,109]}),e(ne,[2,82]),e(ne,[2,83]),{4:112,16:d,18:r,35:f,47:113,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,85:111,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:[1,114]},{16:[1,115]},{50:K,66:116},e(ne,[2,89]),{90:[1,118]},e(ne,[2,51]),e(ne,[2,52]),e(ne,[2,53]),e(ne,[2,54]),e(ne,[2,55]),e([6,8,14,17,34,36,43,45,49,50,51,67,71,72,74,77,79,81,89,90,93,94,95,96,97,98,99,100,101,103,105,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],Qe,{16:at}),{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:120,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:121,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:122,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:123,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:124,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,47:126,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,69:125,71:[2,68],75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(ne,[2,44]),e(ne,[2,45]),e(ne,[2,46]),e(ne,[2,47]),e(ne,[2,48]),e(ne,[2,49]),e(ne,[2,50]),e(ne,[2,221]),{10:128,13:127,16:t},e([6,8,14,138,146],[2,9]),e(b,[2,10],{14:c}),e(b,[2,11]),e(dt,[2,22],{21:129,36:[1,130]}),{34:[1,131]},e(Y,[2,158],{43:[1,132],147:[1,133]}),e(R,[2,149]),{16:d,35:f,47:32,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,139:134,195:F},{134:[1,135]},e(I,[2,152]),{16:d,35:f,47:136,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:d,35:f,47:137,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:d,35:f,47:138,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(I,[2,154]),e(I,[2,155]),e([57,58,60,125],Ge,{102:139,103:Ae}),{16:d,29:[1,142],35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,106:140,120:141,121:[1,143],195:F},e(Xe,[2,117]),e(Xe,[2,118]),e(Xe,[2,119]),e(Xe,[2,120]),e(Xe,[2,121]),e(Xe,[2,122]),e(Xe,[2,123]),e(fe,[2,134]),{107:[1,144],108:[1,145],111:[1,146],112:[1,147]},{111:[1,148]},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:149,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:150,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:151,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:152,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:153,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:154,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:155,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:156,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:157,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:158,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:159,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:160,195:F},e([57,58,60,107,108,111,112,125],[2,107]),{91:[1,161]},{50:[1,162]},{17:[1,163],43:Fe},{17:[1,165]},e(Me,[2,138],{109:ce,126:O,127:z}),{16:d,35:f,47:113,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,85:166,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{4:167,18:r},{16:d,35:f,47:168,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,67:U,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(it,Qe),{50:K,66:169},e(Me,St,{122:33,106:35,92:36,80:37,61:38,66:39,63:40,78:41,75:46,52:48,53:49,56:50,59:51,62:52,64:170,65:171,47:175,16:d,30:st,35:f,45:Ct,46:Nt,50:_,51:N,54:k,55:P,57:A,58:Q,60:T,76:x,79:w,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,103:ge,195:F}),e(ne,[2,75]),e(ne,[2,76]),e(ne,[2,77]),e(ne,[2,78]),e(ne,[2,79]),{70:176,71:[1,177]},{71:[2,69],109:ce,126:O,127:z},e(Tt,[2,7],{14:s}),e(Tt,[2,8]),e(G,[2,24],{22:178,37:[1,179]}),e(dt,[2,21]),{35:[1,180]},{35:[1,181]},{35:[1,182]},e(I,[2,151]),e(H,[2,145]),e(Z,[2,135],{109:ce}),e(fe,[2,136]),e(Z,[2,137],{109:ce}),{56:185,57:A,58:Q,60:[1,184],124:183,125:[1,186]},e(ue,[2,128]),{16:[1,187]},{16:[2,124]},{16:[2,125]},{16:[1,188]},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:189,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:190,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:191,195:F},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:192,195:F},e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,93,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,94],{45:Ee,79:se,81:he,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we,101:Ne}),e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,93,94,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,95],{45:Ee,79:se,81:he,95:je,96:ve,97:_e,98:Te,99:de,100:we}),e(Ie,[2,96],{45:Ee,79:se,81:he,97:_e,98:Te,99:de,100:we}),e(Ie,[2,97],{45:Ee,79:se,81:he,97:_e,98:Te,99:de,100:we}),e(rt,[2,98],{45:Ee,97:_e,98:Te,99:de,100:we}),e(rt,[2,99],{45:Ee,97:_e,98:Te,99:de,100:we}),e(oe,[2,100]),e(oe,[2,101]),e(oe,[2,102]),e(oe,[2,103]),e(oe,[2,104]),e([6,8,14,17,34,36,43,49,50,51,71,72,74,77,89,93,101,103,107,108,109,110,111,112,114,115,116,117,118,119,123,126,127,129,133,135,138,141,142,144,146,150,152,154,157,164,165,167,168,173,177,179,180,182],[2,105],{45:Ee,79:se,81:he,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we}),e(ne,[2,90]),e(it,[2,65]),e(ne,[2,84]),{16:d,35:f,47:193,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(ne,[2,86]),{17:[1,194],43:Fe},{17:[1,195]},{89:[1,196],109:ce,126:O,127:z},e(ne,[2,91],{67:U,90:[1,197]}),{17:[1,198],43:[1,199]},e(Me,[2,58]),e(Me,[2,60]),e(Me,[2,61]),{16:d,35:f,47:200,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(Me,[2,63],{109:ce,126:O,127:z}),{71:[1,202],73:201,74:[1,203],77:[2,72]},{16:d,35:f,47:204,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(ht,[2,26],{23:205,38:[1,206]}),e(G,[2,23]),e(M,[2,19]),e(Y,[2,159]),e(Y,[2,160]),e(fe,[2,133]),e(ue,[2,127]),e(fe,[2,130]),e(fe,[2,131]),{4:207,18:r},{4:208,16:d,18:r,35:f,47:113,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,85:209,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{45:Ee,79:se,81:he,93:He,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we,101:Ne,109:[1,210]},e(ue,[2,108],{104:211,105:[1,212]}),e(ue,[2,116],{45:Ee,79:se,81:he,93:He,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we,101:Ne}),e(ue,[2,114],{45:Ee,79:se,81:he,93:He,94:Ve,95:je,96:ve,97:_e,98:Te,99:de,100:we,101:Ne}),e(Me,[2,139],{109:ce,126:O,127:z}),e(ne,[2,85]),e(ne,[2,87]),e(ne,[2,88]),{91:[1,213]},e(ne,[2,56]),e(Me,St,{122:33,106:35,92:36,80:37,61:38,66:39,63:40,78:41,75:46,52:48,53:49,56:50,59:51,62:52,47:175,65:214,16:d,30:st,35:f,45:Ct,46:Nt,50:_,51:N,54:k,55:P,57:A,58:Q,60:T,76:x,79:w,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,103:ge,195:F}),e(Me,[2,62],{109:ce,126:O,127:z}),{77:[1,215]},{16:d,35:f,47:216,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:d,35:f,47:217,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{72:[1,218],109:ce,126:O,127:z},e(Ot,[2,28],{24:219,39:[1,220]}),e(ht,[2,25]),{17:[1,221]},{17:[1,222]},{17:[1,223],43:Fe},{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,106:224,195:F},e(ue,[2,115]),{16:d,35:f,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:225,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,195:F},e(ne,[2,92]),e(Me,[2,57]),e(ne,[2,74]),{72:[1,226],109:ce,126:O,127:z},{77:[2,73],109:ce,126:O,127:z},{16:d,35:f,47:227,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(gt,[2,29],{25:228,40:[1,229],41:[1,230]}),e(Ot,[2,27]),e(ue,[2,129]),e(ue,[2,111]),e(ue,[2,112]),e(ue,[2,113]),e(ue,[2,109]),{16:d,35:f,47:231,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(Dt,[2,70],{109:ce,126:O,127:z}),e(or,[2,33],{26:232,42:[1,233]}),e(gt,[2,30]),e(gt,[2,31]),e(Dt,[2,71],{109:ce,126:O,127:z}),{16:d,27:234,35:f,44:235,45:ar,46:ir,47:238,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(or,[2,32]),e(l,[2,169],{28:239,43:[1,240],157:[1,241]}),e(L,[2,35]),e(L,[2,36]),e(L,[2,37]),e(L,[2,39],{48:242,49:[1,243],50:[1,244],51:[1,245],109:ce,126:O,127:z}),e(l,[2,12]),{16:d,35:f,44:246,45:ar,46:ir,47:238,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:D,50:K,66:253,88:ae,158:247,160:248,161:249,172:252,174:251},e(L,[2,38]),{50:[1,255],51:[1,256]},e(L,[2,41]),e(L,[2,43]),e(L,[2,34]),e([6,8,14,17,129,135,138,144,146,150,152,154],Oe,{159:257,43:Le,182:Re}),e(me,[2,171]),e(me,[2,173],{163:260,166:262,36:Je,164:xe,165:De,167:Ke,168:ut,173:Bt,177:ot}),{162:[1,268]},e(qe,[2,194]),e(qe,[2,195]),e([6,8,14,17,36,43,49,50,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,192,193,194],Oe,{159:269,67:U,182:Re}),{4:270,16:D,18:r,50:K,66:253,88:ae,158:271,160:248,161:249,172:252,174:251},e(L,[2,40]),e(L,[2,42]),e(bn,[2,140],{128:272,129:[1,273]}),{16:D,50:K,66:253,88:ae,160:274,161:249,172:252,174:251},{16:[1,275]},{173:[1,276]},{16:D,50:K,66:253,174:277},{169:278,170:gn,173:vn},{166:281,167:Ke,168:ut,171:280,173:[2,182]},{173:[2,176]},{173:[2,177]},e(En,[2,178]),e(En,[2,179]),{16:D,50:K,66:253,161:282,172:252,174:251},e(Tr,_n,{183:283,66:285,49:Rn,50:K}),{17:[1,286]},{17:[1,287],43:Le},e(H,[2,142],{130:288,131:289,135:[1,290]}),{16:d,35:f,47:291,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(me,[2,172]),{50:K,66:293,181:292},{16:D,50:K,66:253,174:294},{176:295,179:wr},{173:[1,297]},{173:[2,181]},{173:[1,298]},{169:299,170:gn,173:vn},{36:Je,89:[1,300],163:260,164:xe,165:De,166:262,167:Ke,168:ut,173:Bt,177:ot},e(qe,[2,211],{189:301,190:302,191:303,192:Sn,193:Cn,194:Nn}),{50:K,66:307},e(Tr,[2,202],{67:U}),e(qe,_n,{66:285,183:308,49:Rn,50:K}),e(qe,[2,220]),e(On,[2,156],{143:309,144:[1,310]}),e(H,[2,143]),{16:d,35:f,47:32,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,136:311,139:31,195:F},e(bn,[2,141],{109:ce,126:O,127:z}),{17:[1,312],43:[1,313]},e(Me,[2,196],{67:U}),e([6,8,14,17,36,43,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,182],[2,184],{175:314,176:315,179:wr,180:An}),e(qe,[2,186]),{16:d,35:f,47:317,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},{16:D,50:K,66:253,161:318,172:252,174:251},{16:D,50:K,66:253,174:319},{173:[2,183]},e(me,[2,174]),e(qe,[2,218]),e(qe,[2,212]),e(qe,[2,213]),{184:321,185:Pr,186:xr},{184:324,185:Pr,186:xr},{184:325,185:Pr,186:xr},e(Tr,[2,201],{67:U}),e(qe,[2,219]),e(R,m,{137:18,11:326,138:C}),{16:d,35:f,47:327,50:_,51:N,52:48,53:49,54:k,55:P,56:50,57:A,58:Q,59:51,60:T,61:38,62:52,63:40,66:39,75:46,76:x,78:41,79:w,80:37,81:B,82:j,83:q,84:W,86:V,87:$,88:J,91:X,92:36,103:ge,106:35,122:33,195:F},e(H,te,{132:328,43:ye,133:ee}),e([6,8,14,17,36,43,49,50,89,129,135,138,144,146,150,152,154,164,165,167,168,173,177,179,180,182,192,193,194],[2,199]),{50:K,66:329},e(qe,[2,185]),e(qe,[2,192]),{16:[1,330]},e(qe,[2,191],{109:ce,126:O,127:z}),{36:Je,163:260,164:xe,165:De,166:262,167:Ke,168:ut,173:Bt,175:331,176:315,177:ot,179:wr,180:An},e(qe,[2,188]),{191:332,192:Sn,193:Cn,194:Nn},{16:Vr,152:Dr,187:333},e(kn,[2,203]),e(kn,[2,204]),{16:Vr,152:Dr,187:335},{16:Vr,152:Dr,187:336},e(Y,p,{145:28,12:337,146:y}),e(On,[2,157],{109:ce,126:O,127:z}),e(H,[2,146]),e(Me,[2,197],{67:U}),{50:K,66:339,68:338},e(qe,[2,187]),e(qe,[2,214]),{16:[1,340]},{135:[1,343],138:[1,342],173:[1,341]},{16:[1,344]},{16:[1,345]},e(Br,[2,163],{148:346,149:347,150:[1,348]}),{17:[1,349],43:lr},e(Me,[2,66],{67:U}),{17:[2,209],50:K,66:339,68:352,188:351},{16:[2,206]},{16:[2,207]},{16:[2,208]},{50:K,66:339,68:353},{50:K,66:339,68:354},e(l,[2,166],{151:355,152:[1,356],154:[1,357]}),e(Br,[2,164]),{50:[1,359],63:358},e(qe,[2,193]),{50:K,66:360},{17:[1,361]},{17:[2,210],43:lr},{17:[1,362],43:lr},{17:[1,363],43:lr},e(l,[2,170]),{153:[1,364]},{107:[1,365]},e(Br,[2,165]),{16:at},e(Me,[2,67],{67:U}),e(qe,[2,215]),e(qe,[2,216]),e(qe,[2,217]),e(l,[2,167]),{155:[1,366]},{156:[1,367]},e(l,[2,168])],defaultActions:{11:[2,3],22:[2,1],24:[2,2],142:[2,124],143:[2,125],264:[2,176],265:[2,177],279:[2,181],299:[2,183],341:[2,206],342:[2,207],343:[2,208]},parseError:function(re,ie){if(ie.recoverable)this.trace(re);else{var be=new Error(re);throw be.hash=ie,be}},parse:function(re){var ie=this,be=[0],Pe=[null],Ce=[],a=this.table,Fr="",i=0,In=0,Ds=2,Ln=1,Bs=Ce.slice.call(arguments,1),ze=Object.create(this.lexer),wt={yy:{}};for(var Mr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mr)&&(wt.yy[Mr]=this.yy[Mr]);ze.setInput(re,wt.yy),wt.yy.lexer=ze,wt.yy.parser=this,typeof ze.yylloc>"u"&&(ze.yylloc={});var jr=ze.yylloc;Ce.push(jr);var Gs=ze.options&&ze.options.ranges;typeof wt.yy.parseError=="function"?this.parseError=wt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var $s=function(){var $t;return $t=ze.lex()||Ln,typeof $t!="number"&&($t=ie.symbols_[$t]||$t),$t},nt,Pt,lt,Wr,Gt={},ur,vt,Tn,cr;;){if(Pt=be[be.length-1],this.defaultActions[Pt]?lt=this.defaultActions[Pt]:((nt===null||typeof nt>"u")&&(nt=$s()),lt=a[Pt]&&a[Pt][nt]),typeof lt>"u"||!lt.length||!lt[0]){var Ur="";cr=[];for(ur in a[Pt])this.terminals_[ur]&&ur>Ds&&cr.push("'"+this.terminals_[ur]+"'");ze.showPosition?Ur="Parse error on line "+(i+1)+`:
`+ze.showPosition()+`
Expecting `+cr.join(", ")+", got '"+(this.terminals_[nt]||nt)+"'":Ur="Parse error on line "+(i+1)+": Unexpected "+(nt==Ln?"end of input":"'"+(this.terminals_[nt]||nt)+"'"),this.parseError(Ur,{text:ze.match,token:this.terminals_[nt]||nt,line:ze.yylineno,loc:jr,expected:cr})}if(lt[0]instanceof Array&&lt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pt+", token: "+nt);switch(lt[0]){case 1:be.push(nt),Pe.push(ze.yytext),Ce.push(ze.yylloc),be.push(lt[1]),nt=null,In=ze.yyleng,Fr=ze.yytext,i=ze.yylineno,jr=ze.yylloc;break;case 2:if(vt=this.productions_[lt[1]][1],Gt.$=Pe[Pe.length-vt],Gt._$={first_line:Ce[Ce.length-(vt||1)].first_line,last_line:Ce[Ce.length-1].last_line,first_column:Ce[Ce.length-(vt||1)].first_column,last_column:Ce[Ce.length-1].last_column},Gs&&(Gt._$.range=[Ce[Ce.length-(vt||1)].range[0],Ce[Ce.length-1].range[1]]),Wr=this.performAction.apply(Gt,[Fr,In,i,wt.yy,lt[1],Pe,Ce].concat(Bs)),typeof Wr<"u")return Wr;vt&&(be=be.slice(0,-1*vt*2),Pe=Pe.slice(0,-1*vt),Ce=Ce.slice(0,-1*vt)),be.push(this.productions_[lt[1]][0]),Pe.push(Gt.$),Ce.push(Gt._$),Tn=a[be[be.length-2]][be[be.length-1]],be.push(Tn);break;case 3:return!0}}return!0}},Vs=function(){var At={EOF:1,parseError:function(ie,be){if(this.yy.parser)this.yy.parser.parseError(ie,be);else throw new Error(ie)},setInput:function(re,ie){return this.yy=ie||this.yy||{},this._input=re,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var re=this._input[0];this.yytext+=re,this.yyleng++,this.offset++,this.match+=re,this.matched+=re;var ie=re.match(/(?:\r\n?|\n).*/g);return ie?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),re},unput:function(re){var ie=re.length,be=re.split(/(?:\r\n?|\n)/g);this._input=re+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ie),this.offset-=ie;var Pe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),be.length-1&&(this.yylineno-=be.length-1);var Ce=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:be?(be.length===Pe.length?this.yylloc.first_column:0)+Pe[Pe.length-be.length].length-be[0].length:this.yylloc.first_column-ie},this.options.ranges&&(this.yylloc.range=[Ce[0],Ce[0]+this.yyleng-ie]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(re){this.unput(this.match.slice(re))},pastInput:function(){var re=this.matched.substr(0,this.matched.length-this.match.length);return(re.length>20?"...":"")+re.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var re=this.match;return re.length<20&&(re+=this._input.substr(0,20-re.length)),(re.substr(0,20)+(re.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var re=this.pastInput(),ie=new Array(re.length+1).join("-");return re+this.upcomingInput()+`
`+ie+"^"},test_match:function(re,ie){var be,Pe,Ce;if(this.options.backtrack_lexer&&(Ce={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ce.yylloc.range=this.yylloc.range.slice(0))),Pe=re[0].match(/(?:\r\n?|\n).*/g),Pe&&(this.yylineno+=Pe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pe?Pe[Pe.length-1].length-Pe[Pe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+re[0].length},this.yytext+=re[0],this.match+=re[0],this.matches=re,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(re[0].length),this.matched+=re[0],be=this.performAction.call(this,this.yy,this,ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),be)return be;if(this._backtrack){for(var a in Ce)this[a]=Ce[a];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var re,ie,be,Pe;this._more||(this.yytext="",this.match="");for(var Ce=this._currentRules(),a=0;a<Ce.length;a++)if(be=this._input.match(this.rules[Ce[a]]),be&&(!ie||be[0].length>ie[0].length)){if(ie=be,Pe=a,this.options.backtrack_lexer){if(re=this.test_match(be,Ce[a]),re!==!1)return re;if(this._backtrack){ie=!1;continue}else return!1}else if(!this.options.flex)break}return ie?(re=this.test_match(ie,Ce[Pe]),re!==!1?re:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ie=this.next();return ie||this.lex()},begin:function(ie){this.conditionStack.push(ie)},popState:function(){var ie=this.conditionStack.length-1;return ie>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ie){return ie=this.conditionStack.length-1-Math.abs(ie||0),ie>=0?this.conditionStack[ie]:"INITIAL"},pushState:function(ie){this.begin(ie)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ie,be,Pe,Ce){switch(Pe){case 0:break;case 1:break;case 2:break;case 3:break;case 4:return 195;case 5:return 50;case 6:return 50;case 7:return 50;case 8:return 18;case 9:return 29;case 10:return 121;case 11:return 30;case 12:return 31;case 13:return 32;case 14:return 33;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 46;case 23:return 49;case 24:return 57;case 25:return 58;case 26:return 60;case 27:return"COLLATE";case 28:return 84;case 29:return 86;case 30:return 87;case 31:return 76;case 32:return 71;case 33:return 72;case 34:return 74;case 35:return 77;case 36:return 98;case 37:return 99;case 38:return 103;case 39:return 108;case 40:return 107;case 41:return 110;case 42:return 111;case 43:return 105;case 44:return 112;case 45:return 123;case 46:return 125;case 47:return 109;case 48:return 126;case 49:return 127;case 50:return 157;case 51:return 182;case 52:return 192;case 53:return 185;case 54:return 186;case 55:return 152;case 56:return 173;case 57:return 138;case 58:return 135;case 59:return 193;case 60:return 194;case 61:return 164;case 62:return 165;case 63:return 179;case 64:return 180;case 65:return 167;case 66:return 168;case 67:return 170;case 68:return 177;case 69:return 129;case 70:return 141;case 71:return 142;case 72:return 133;case 73:return 134;case 74:return 144;case 75:return 147;case 76:return 150;case 77:return 153;case 78:return 154;case 79:return 155;case 80:return 156;case 81:return 162;case 82:return 146;case 83:return 14;case 84:return 43;case 85:return 34;case 86:return 16;case 87:return 17;case 88:return 82;case 89:return 119;case 90:return 83;case 91:return 90;case 92:return 93;case 93:return 94;case 94:return 79;case 95:return 81;case 96:return 45;case 97:return 97;case 98:return 100;case 99:return 101;case 100:return 96;case 101:return 114;case 102:return 115;case 103:return 95;case 104:return"<=>";case 105:return 116;case 106:return 118;case 107:return 117;case 108:return 88;case 109:return 89;case 110:return 8;case 111:return 91;case 112:return 51;case 113:return 51;case 114:return 55;case 115:return 35;case 116:return 54;case 117:return 50;case 118:return 67;case 119:return 51;case 120:return 51;case 121:return 50;case 122:return 6;case 123:return"INVALID"}},rules:[/^(?:[/][*](.|\n)*?[*][/])/i,/^(?:[-][-]\s.*\n)/i,/^(?:[#]\s.*\n)/i,/^(?:\s+)/i,/^(?:[$][{](.*?)[}])/i,/^(?:[`][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*[`])/i,/^(?:[\w]+[\u4e00-\u9fa5]+[0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:[\u4e00-\u9fa5][0-9a-zA-Z_\u4e00-\u9fa5]*)/i,/^(?:SELECT\b)/i,/^(?:ALL\b)/i,/^(?:ANY\b)/i,/^(?:DISTINCT\b)/i,/^(?:DISTINCTROW\b)/i,/^(?:HIGH_PRIORITY\b)/i,/^(?:MAX_STATEMENT_TIME\b)/i,/^(?:STRAIGHT_JOIN\b)/i,/^(?:SQL_SMALL_RESULT\b)/i,/^(?:SQL_BIG_RESULT\b)/i,/^(?:SQL_BUFFER_RESULT\b)/i,/^(?:SQL_CACHE\b)/i,/^(?:SQL_NO_CACHE\b)/i,/^(?:SQL_CALC_FOUND_ROWS\b)/i,/^(?:([a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*\.){1,2}\*)/i,/^(?:AS\b)/i,/^(?:TRUE\b)/i,/^(?:FALSE\b)/i,/^(?:NULL\b)/i,/^(?:COLLATE\b)/i,/^(?:BINARY\b)/i,/^(?:ROW\b)/i,/^(?:EXISTS\b)/i,/^(?:CASE\b)/i,/^(?:WHEN\b)/i,/^(?:THEN\b)/i,/^(?:ELSE\b)/i,/^(?:END\b)/i,/^(?:DIV\b)/i,/^(?:MOD\b)/i,/^(?:NOT\b)/i,/^(?:BETWEEN\b)/i,/^(?:IN\b)/i,/^(?:SOUNDS\b)/i,/^(?:LIKE\b)/i,/^(?:ESCAPE\b)/i,/^(?:REGEXP\b)/i,/^(?:IS\b)/i,/^(?:UNKNOWN\b)/i,/^(?:AND\b)/i,/^(?:OR\b)/i,/^(?:XOR\b)/i,/^(?:FROM\b)/i,/^(?:PARTITION\b)/i,/^(?:USE\b)/i,/^(?:INDEX\b)/i,/^(?:KEY\b)/i,/^(?:FOR\b)/i,/^(?:JOIN\b)/i,/^(?:ORDER\s+BY\b)/i,/^(?:GROUP\s+BY\b)/i,/^(?:IGNORE\b)/i,/^(?:FORCE\b)/i,/^(?:INNER\b)/i,/^(?:CROSS\b)/i,/^(?:ON\b)/i,/^(?:USING\b)/i,/^(?:LEFT\b)/i,/^(?:RIGHT\b)/i,/^(?:OUTER\b)/i,/^(?:NATURAL\b)/i,/^(?:WHERE\b)/i,/^(?:ASC\b)/i,/^(?:DESC\b)/i,/^(?:WITH\b)/i,/^(?:ROLLUP\b)/i,/^(?:HAVING\b)/i,/^(?:OFFSET\b)/i,/^(?:PROCEDURE\b)/i,/^(?:UPDATE\b)/i,/^(?:LOCK\b)/i,/^(?:SHARE\b)/i,/^(?:MODE\b)/i,/^(?:OJ\b)/i,/^(?:LIMIT\b)/i,/^(?:UNION\b)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:~)/i,/^(?:!=)/i,/^(?:!)/i,/^(?:\|\|)/i,/^(?:\|)/i,/^(?:&)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:\^)/i,/^(?:>>)/i,/^(?:>=)/i,/^(?:>)/i,/^(?:<<)/i,/^(?:<=>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:;)/i,/^(?:['](%+)['])/i,/^(?:['](\\.|[^'])*['])/i,/^(?:["](\\.|[^"])*["])/i,/^(?:[0][x][0-9a-fA-F]+)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?)/i,/^(?:[-]?[0-9]+(\.[0-9]+)?[eE][-][0-9]+(\.[0-9]+)?)/i,/^(?:[a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*)/i,/^(?:\.)/i,/^(?:["][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*["])/i,/^(?:['][a-zA-Z_\u4e00-\u9fa5][a-zA-Z0-9_\u4e00-\u9fa5]*['])/i,/^(?:([`])(?:(?=(\\?))\2.)*?\1)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123],inclusive:!0}}};return At}();Gr.lexer=Vs;function $r(){this.yy={}}return $r.prototype=Gr,Gr.Parser=$r,new $r}();const hr=e=>!!e&&(e.type==="String"||e.type==="Number"||e.type==="Boolean"),We=e=>!!e&&e.type==="Identifier",es=e=>{switch(typeof e){case"number":return`${e}`;case"boolean":return e?"TRUE":"FALSE";default:return`'${e}'`}},Ze=e=>(typeof e=="string"?e:e.value).replace(/(^`|`$)/g,""),Mo=e=>e.replace("&&","and").replace("||","or").toLowerCase(),ts=(e,t)=>{if(t){if(e==="<")return">";if(e==="<=")return">=";if(e===">")return"<";if(e===">=")return"<="}return e==="<>"?"!=":e},pr=e=>e.type==="String"?e.value.replace(/^(['"]?)(.+?)\1$/,"$2"):e.type==="Boolean"?e.value.toLowerCase()==="true":parseFloat(e.value),ln=e=>{const t=Mo(e.operator);return e.left.type==="AndExpression"||e.left.type==="OrExpression"||e.left.type==="XorExpression"?[...ln(e.left),t,e.right]:[e.left,t,e.right]},jo=e=>{const t=ln(e);let r=0;const n={combinator:"or",expressions:[]};let o={combinator:"xor",expressions:[]},c={combinator:"and",expressions:[]};for(let h=0;h<t.length-2;h+=2){let u=0;if(t[h+1]==="and"?u=2-r:t[h+1]==="xor"?u=1-r:t[h+1]==="or"&&(u=0-r),u>0)for(let S=0;S<u;S++)r+=1,r===1?(o={combinator:"xor",expressions:[]},u===1&&(o.expressions.push(t[h]),(h>=t.length-3||t[h+3]==="xor")&&o.expressions.push(t[h+2]))):r===2&&(c={combinator:"and",expressions:[]},c.expressions.push(t[h],t[h+2]));else if(u<0)for(let S=0;S>u;S--)r-=1,r===1?(o.expressions.push(c),u===-1&&o.expressions.push(t[h+2])):r===0&&(n.expressions.push(o),h>=t.length-3&&n.expressions.push(t[h+2]));else r===0?((h===0||h>3&&t[h-3]!=="or")&&n.expressions.push(t[h]),(h>=t.length-3||t[h+3]==="or")&&n.expressions.push(t[h+2])):r===1?o.expressions.push(t[h+2]):r===2&&c.expressions.push(t[h+2])}if(r===2&&(o.expressions.push(c),r-=1),r===1&&(n.expressions.push(o),r-=1),n.expressions.length===1&&"combinator"in n.expressions[0])return n.expressions[0].expressions.length===1&&"combinator"in n.expressions[0].expressions[0]?n.expressions[0].expressions[0]:n.expressions[0];const E={combinator:"or",expressions:[]};for(const h of n.expressions)"combinator"in h&&"combinator"in h.expressions[0]&&h.expressions.length===1?E.expressions.push(h.expressions[0]):E.expressions.push(h);return E};function Wo(e,t={}){const{params:r,paramPrefix:n,independentCombinators:o,fields:c,getValueSources:E}=t;let h=/^[ \t\n\r\s]*SELECT\b/i.test(e)?e:/^[ \t\n\r\s]*WHERE\b/i.test(e)?`SELECT * FROM t ${e}`:`SELECT * FROM t WHERE ${e}`,u=!1;const S=kr(c);if(u=!!o,r)if(Array.isArray(r)){let s=0;h=h.replace(/\?/g,()=>{const g=es(r[s]);return s++,g})}else{const s=Object.keys(r),g=n??":";s.forEach(v=>{h=h.replace(new RegExp(`\\${g}${v}\\b`,"ig"),es(r[v]))})}const b=(s,g,v)=>Ir({fieldName:s,fieldsFlat:S,operator:g,subordinateFieldName:v,getValueSources:E}),m=s=>{if(s.type==="NotExpression"){const g=s.value.type==="SimpleExprParentheses"?s.value.value.value[0]:s.value,v=m(g);if(v)return"rules"in v?{...v,not:!0}:{rules:[v],not:!0,...!u&&{combinator:"and"}}}else if(s.type==="SimpleExprParentheses"){const g=s.value.value[0];if(g.type==="AndExpression"||g.type==="OrExpression"||g.type==="XorExpression")return m(g);const v=m(g);return v?{rules:[v],...u?{}:{combinator:"and"}}:null}else if(s.type==="AndExpression"||s.type==="OrExpression"||s.type==="XorExpression"){if(u){const R=ln(s).map(d=>typeof d=="string"?d:m(d));return R.includes(null)?null:{rules:R}}const g=jo(s),{combinator:v}=g,p=g.expressions.map(y=>"combinator"in y?{combinator:y.combinator,rules:y.expressions.map(R=>"combinator"in R?{combinator:R.combinator,rules:R.expressions.map(d=>m(d)).filter(Boolean)}:m(R)).filter(Boolean)}:m(y)).filter(Boolean);if(p.length>0)return{combinator:v,rules:p}}else if(s.type==="IsNullBooleanPrimary"){if(We(s.value)){const g=Ze(s.value),v=s.hasNot?"notNull":"null";if(b(g,v))return{field:g,operator:v,value:null}}}else if(s.type==="ComparisonBooleanPrimary"){if(We(s.left)&&!We(s.right)||!We(s.left)&&We(s.right)){const g=We(s.left)?s.left.value:s.right.value,v=[s.left,s.right].find(p=>!We(p));if(hr(v)){const p=Ze(g),y=ts(s.operator,We(s.right));if(b(p,y))return{field:p,operator:y,value:pr(v)}}}else if(We(s.left)&&We(s.right)){const g=Ze(s.left),v=Ze(s.right),p=ts(s.operator);if(b(g,p,v))return{field:g,operator:p,value:v,valueSource:"field"}}}else if(s.type==="InExpressionListPredicate"){if(We(s.left)){const g=Ze(s.left),v=s.right.value.filter(hr).map(pr),p=s.hasNot?"notIn":"in",y=s.right.value.filter(We).filter(R=>b(g,p,R.value)).map(Ze);if(v.length>0){const R=t!=null&&t.listsAsArrays?v:v.join(", ");return{field:Ze(s.left),operator:p,value:R}}else if(y.length>0){const R=t!=null&&t.listsAsArrays?y:y.join(", ");return{field:Ze(s.left),operator:p,value:R,valueSource:"field"}}}}else if(s.type==="BetweenPredicate"){if(We(s.left)&&hr(s.right.left)&&hr(s.right.right)){const g=[s.right.left,s.right.right].map(pr),v=t!=null&&t.listsAsArrays?g:g.join(", "),p=s.hasNot?"notBetween":"between";return{field:Ze(s.left),operator:p,value:v}}else if(We(s.left)&&We(s.right.left)&&We(s.right.right)){const g=Ze(s.left),v=[s.right.left,s.right.right].map(Ze),p=s.hasNot?"notBetween":"between";if(v.every(y=>b(g,p,y))){const y=t!=null&&t.listsAsArrays?v:v.join(", ");return{field:g,operator:p,value:y,valueSource:"field"}}}}else if(s.type==="LikePredicate"){if(We(s.left)&&s.right.type==="String"){const g=pr(s.right),v=g.replace(/(^%)|(%$)/g,"");let p="=";/^%.*%$/.test(g)||g==="%"?p=s.hasNot?"doesNotContain":"contains":/%$/.test(g)?p=s.hasNot?"doesNotBeginWith":"beginsWith":/^%/.test(g)&&(p=s.hasNot?"doesNotEndWith":"endsWith");const y=Ze(s.left);if(b(y,p))return{field:y,operator:p,value:v}}else if(We(s.left)&&(s.right.type==="StartsWithExpr"||s.right.type==="EndsWithExpr"||s.right.type==="ContainsExpr")){let g="",v="=";We(s.right.value)&&(g=Ze(s.right.value)),s.right.type==="EndsWithExpr"?v=s.hasNot?"doesNotEndWith":"endsWith":s.right.type==="StartsWithExpr"?v=s.hasNot?"doesNotBeginWith":"beginsWith":s.right.type==="ContainsExpr"&&(v=s.hasNot?"doesNotContain":"contains");const p=Ze(s.left);if(v!=="="&&b(p,v,g))return{field:p,operator:v,value:g,valueSource:"field"}}else if(We(s.left)&&We(s.right)){const g=Ze(s.left),v=Ze(s.right),p="=";if(b(g,p,v))return{field:g,operator:p,value:v,valueSource:"field"}}}return null},{where:C}=Fo.parse(h).value;if(C){const s=m(C);if(s)return"rules"in s?s:{rules:[s],...u?{}:{combinator:"and"}}}return{rules:[],...u?{}:{combinator:"and"}}}const bt=(e,t)=>{let r=t,n=0;for(;n<e.length&&r&&"rules"in r;){const o=r.rules[e[n]];typeof o!="string"?r=o:r=null,n++}return r},Rt=e=>e.slice(0,e.length-1),un=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),Uo=(e,t)=>e.length<t.length&&RegExp(`^${e.join("-")}`).test(t.join("-")),ks=(e,t)=>{const r=[],n=Rt(e),o=Rt(t);let c=0;for(;c<n.length&&c<o.length&&n[c]===o[c];)r.push(o[c]),c++;return r},Mt=(e,t)=>{let r=!!t.disabled,n=t,o=0;for(;o<e.length&&!r&&"rules"in n;){const c=n.rules[e[o]];ke(c)&&("rules"in c||"field"in c)&&(r=!!c.disabled,n=c),o++}return r},cn=(e,{idGenerator:t=exports.generateID}={})=>Vt.produce(e,r=>{r.id||(r.id=t())}),nr=(e,{idGenerator:t=exports.generateID}={})=>Vt.produce(e,r=>{r.id||(r.id=t()),r.rules=r.rules.map(n=>typeof n=="string"?n:"rules"in n?nr(n,{idGenerator:t}):cn(n,{idGenerator:t}))}),Is=(e,{idGenerator:t=exports.generateID}={})=>"rules"in e?nr(e,{idGenerator:t}):cn(e,{idGenerator:t}),zr=(e,t,r,{combinators:n=Lt,combinatorPreceding:o,idGenerator:c=exports.generateID}={})=>Vt.produce(e,E=>{const h=bt(r,E);if(!("combinator"in h)&&h.rules.length>0){const u=h.rules[h.rules.length-2];h.rules.push(o??(typeof u=="string"?u:It(n)))}h.rules.push(Is(t,{idGenerator:c}))}),Ls=(e,t,r,n,{resetOnFieldChange:o=!0,resetOnOperatorChange:c=!1,getRuleDefaultOperator:E=()=>"=",getValueSources:h=()=>["value"],getRuleDefaultValue:u=()=>""}={})=>Vt.produce(e,S=>{if(t==="combinator"&&!("combinator"in S)){const b=bt(Rt(n),S).rules;n[n.length-1]%2===1&&(b[n[n.length-1]]=r);return}else{const b=bt(n,S),m="rules"in b;if(b[t]!==r&&(t!=="valueSource"&&(b[t]=r),!m)){let C=!1,s=!1;o&&t==="field"&&(b.operator=E(r),C=!0,s=!0),c&&t==="operator"&&(C=!0,s=!0);const g=h(b.field,b.operator)[0];(C&&b.valueSource&&g!==b.valueSource||t==="valueSource"&&r!==b.valueSource)&&(s=!!b.valueSource||!b.valueSource&&r!==g,b.valueSource=C?g:r),s&&(b.value=u(b))}}}),Ts=(e,t)=>t.length===0||!("combinator"in e)&&!bt(t,e)?e:Vt.produce(e,r=>{const n=t[t.length-1],o=bt(Rt(t),r);if(!("combinator"in o)&&o.rules.length>1){const c=n===0?0:n-1;o.rules.splice(c,2)}else o.rules.splice(n,1)}),ws=(e,t,r,{clone:n=!1,combinators:o=Lt,idGenerator:c=exports.generateID}={})=>{if(un(t,r))return e;const E=bt(t,e);if(!E)return e;const h=n?"rules"in E?Cr(E,{idGenerator:c}):Sr(E,{idGenerator:c}):E;return Vt.produce(e,u=>{const S=!("combinator"in u),b=bt(Rt(t),u),m=t[t.length-1],C=S&&m>0?b.rules[m-1]:null,s=S&&m<b.rules.length-1?b.rules[m+1]:null;if(!n){const f=S?Math.max(0,m-1):m,_=S?2:1;b.rules.splice(f,_)}const g=[...r],v=ks(t,r);!n&&t.length===v.length+1&&r[v.length]>t[v.length]&&(g[v.length]-=S?2:1);const p=Rt(g),y=bt(p,u),R=g[g.length-1],d=(...f)=>y.rules.splice(R,0,...f);if(y.rules.length===0||!S)d(h);else if(R===0)if(m===0&&s)d(h,s);else{const f=y.rules[1]||C||It(o);d(h,f)}else if(C)d(C,h);else{const f=y.rules[R-2]||s||It(o);d(f,h)}})},Ps=e=>ft(e)?e.map(t=>pe("optgroup",{label:t.label,children:t.options.map(r=>pe("option",{value:r.name,children:r.label},r.name))},t.label)):Array.isArray(e)?e.map(t=>pe("option",{value:t.name,children:t.label},t.name)):null,rs=(e,t,r)=>Vt(e,n=>{for(const[o,c]of Object.entries(t))n[c]=n[o],r&&delete n[o]}),Ho=(e,t={})=>{const{ruleProcessor:r=S=>S,ruleGroupProcessor:n=S=>S,propertyMap:o={},combinatorMap:c={},operatorMap:E={},deleteRemappedProperties:h=!0}=t,u=S=>({...n(rs({...S,..."combinator"in S?{combinator:c[S.combinator]??S.combinator}:{}},o,h)),rules:S.rules.map((b,m)=>typeof b=="string"?c[b]??b:"rules"in b?u({...b,path:[...S.path,m]}):r(rs({...b,path:[...S.path,m],operator:E[b.operator]??b.operator},o,h)))});return u({...e,path:[]})},Sr=(e,{idGenerator:t=exports.generateID}={})=>JSON.parse(JSON.stringify({...e,id:t()})),Cr=(e,{idGenerator:t=exports.generateID}={})=>{if("combinator"in e){const{combinator:o,not:c}=e,E=e.rules.map(h=>"rules"in h?Cr(h,{idGenerator:t}):Sr(h,{idGenerator:t}));return{id:t(),combinator:o,rules:E,not:c}}const{not:r}=e,n=e.rules.map(o=>typeof o=="string"?o:"rules"in o?Cr(o,{idGenerator:t}):Sr(o,{idGenerator:t}));return{id:t(),rules:n,not:r}},Qo=Object.freeze(Object.defineProperty({__proto__:null,filterFieldsByComparator:Ar,getValidationClassNames:en,getValueSourcesUtil:_r,useControlledOrUncontrolled:gs,useDeprecatedProps:tn,usePrevious:bs,useReactDndWarning:rn,regenerateID:Sr,regenerateIDs:Cr,uniqByName:xt,uniqOptGroups:mr},Symbol.toStringTag,{value:"Module"})),fn=({id:e,path:t,rule:r,translations:n,schema:o,actions:c,disabled:E,parentDisabled:h,context:u,field:S,operator:b,value:m,valueSource:C,dragMonitorId:s="",dropMonitorId:g="",dndRef:v=null,dragRef:p=null,isDragging:y=!1,isOver:R=!1})=>{const{classNames:d,controls:{dragHandle:f,fieldSelector:_,operatorSelector:N,valueSourceSelector:k,valueEditor:P,cloneRuleAction:A,lockRuleAction:Q,removeRuleAction:T},fields:x,fieldMap:w,getInputType:B,getOperators:j,getValueEditorType:q,getValueSources:W,getValues:V,autoSelectField:$,autoSelectOperator:J,showCloneButtons:X,showLockButtons:ge,listsAsArrays:F,validationMap:M,enableDragAndDrop:Y,getRuleClassname:te}=o,{moveRule:ye,onPropChange:ee,onRuleRemove:I}=c,ce=!!h||!!E,O=r||{field:S,operator:b,value:m,valueSource:C},{field:z,operator:fe,value:ue,valueSource:Ee}=O;tn("rule",!!r),rn(Y,!!(s||g||v||p));const se=le.useMemo(()=>({dragHandle:Be(Se.dragHandle,d.dragHandle),fields:Be(Se.fields,d.fields),operators:Be(Se.operators,d.operators),valueSource:Be(Se.valueSource,d.valueSource),value:Be(Se.value,d.value),cloneRule:Be(Se.cloneRule,d.cloneRule),lockRule:Be(Se.lockRule,d.lockRule),removeRule:Be(Se.removeRule,d.removeRule)}),[d]),he=Fe=>Me=>{ce||ee(Fe,Me,t)},He=Fe=>{if(Fe.preventDefault(),Fe.stopPropagation(),!ce){const Me=[...Rt(t),t[t.length-1]+1];ye(t,Me,!0)}},Ve=Fe=>{Fe.preventDefault(),Fe.stopPropagation(),ee("disabled",!ce,t)},je=Fe=>{Fe.preventDefault(),Fe.stopPropagation(),ce||I(t)},ve=(w==null?void 0:w[z])??{name:z,label:z},_e=ve.inputType??B(z,fe),Te=j(z),de=Zr(Te,fe),we=de==null?void 0:de.arity,Ne=typeof we=="string"&&we==="unary"||typeof we=="number"&&we<2,Ae=typeof ve.valueSources=="function"?ve.valueSources(fe):ve.valueSources??W(z,fe),Ge=Ee==="field"?"select":(typeof ve.valueEditorType=="function"?ve.valueEditorType(fe):ve.valueEditorType)??q(z,fe),oe=Ee==="field"?Ar(ve,x,fe):ve.values??V(z,fe),ne=t.length,U=Ae.map(Fe=>({name:Fe,label:Fe})),K=M[e??""]??(typeof ve.validator=="function"?ve.validator({id:e,field:z,operator:fe,value:ue}):null),Qe=en(K),at=le.useMemo(()=>(ve==null?void 0:ve.className)??"",[ve==null?void 0:ve.className]),dt=le.useMemo(()=>(de==null?void 0:de.className)??"",[de==null?void 0:de.className]),Xe=Be(te(O),at,dt,Se.rule,d.rule,{[Se.disabled]:ce,[Se.dndDragging]:y,[Se.dndOver]:R},Qe);return _t("div",{ref:v,"data-testid":Ue.rule,"data-dragmonitorid":s,"data-dropmonitorid":g,className:Xe,"data-rule-id":e,"data-level":ne,"data-path":JSON.stringify(t),children:[pe(f,{testID:Ue.dragHandle,ref:p,level:ne,path:t,title:n.dragHandle.title,label:n.dragHandle.label,className:se.dragHandle,disabled:ce,context:u,validation:K}),pe(_,{testID:Ue.fields,options:x,title:n.fields.title,value:z,operator:fe,className:se.fields,handleOnChange:he("field"),level:ne,path:t,disabled:ce,context:u,validation:K}),($||z!==n.fields.placeholderName)&&_t(xn,{children:[pe(N,{testID:Ue.operators,field:z,fieldData:ve,title:n.operators.title,options:Te,value:fe,className:se.operators,handleOnChange:he("operator"),level:ne,path:t,disabled:ce,context:u,validation:K}),(J||fe!==n.operators.placeholderName)&&!Ne&&_t(xn,{children:[!["null","notNull"].includes(fe)&&Ae.length>1&&pe(k,{testID:Ue.valueSourceSelector,field:z,fieldData:ve,title:n.valueSourceSelector.title,options:U,value:Ee??"value",className:se.valueSource,handleOnChange:he("valueSource"),level:ne,path:t,disabled:ce,context:u,validation:K}),pe(P,{testID:Ue.valueEditor,field:z,fieldData:ve,title:n.value.title,operator:fe,value:ue,valueSource:Ee??"value",type:Ge,inputType:_e,values:oe,listsAsArrays:F,className:se.value,handleOnChange:he("value"),level:ne,path:t,disabled:ce,context:u,validation:K})]})]}),X&&pe(A,{testID:Ue.cloneRule,label:n.cloneRule.label,title:n.cloneRule.title,className:se.cloneRule,handleOnClick:He,level:ne,path:t,disabled:ce,context:u,validation:K,ruleOrGroup:O}),ge&&pe(Q,{testID:Ue.lockRule,label:n.lockRule.label,title:n.lockRule.title,className:se.lockRule,handleOnClick:Ve,level:ne,path:t,disabled:ce,disabledTranslation:h?void 0:n.lockRuleDisabled,context:u,validation:K,ruleOrGroup:O}),pe(T,{testID:Ue.removeRule,label:n.removeRule.label,title:n.removeRule.title,className:se.removeRule,handleOnClick:je,level:ne,path:t,disabled:ce,context:u,validation:K,ruleOrGroup:O})]})};fn.displayName="Rule";const dn=({id:e,path:t,ruleGroup:r,translations:n,schema:o,actions:c,disabled:E,parentDisabled:h,context:u,combinator:S,rules:b,not:m,dragMonitorId:C="",dropMonitorId:s="",previewRef:g=null,dragRef:v=null,dropRef:p=null,isDragging:y=!1,isOver:R=!1})=>{const{classNames:d,combinators:f,controls:{dragHandle:_,combinatorSelector:N,inlineCombinator:k,notToggle:P,addRuleAction:A,addGroupAction:Q,cloneGroupAction:T,lockGroupAction:x,removeGroupAction:w,ruleGroup:B,rule:j},createRule:q,createRuleGroup:W,independentCombinators:V,showCombinatorsBetweenRules:$,showNotToggle:J,showCloneButtons:X,showLockButtons:ge,validationMap:F,disabledPaths:M,enableDragAndDrop:Y,getRuleGroupClassname:te}=o,{onGroupAdd:ye,onGroupRemove:ee,onPropChange:I,onRuleAdd:ce,moveRule:O}=c,z=!!h||!!E,fe=r?{...r}:{rules:b,not:m},{rules:ue,not:Ee}=fe;let se=Lt[0].name;r&&"combinator"in r?se=r.combinator:r||(se=S??se),V||(fe.combinator=se),tn("ruleGroup",!!r);const he=le.useMemo(()=>({header:Be(Se.header,d.header,{[Se.dndOver]:R}),dragHandle:Be(Se.dragHandle,d.dragHandle),combinators:Be(Se.combinators,d.combinators),notToggle:Be(Se.notToggle,d.notToggle),addRule:Be(Se.addRule,d.addRule),addGroup:Be(Se.addGroup,d.addGroup),cloneGroup:Be(Se.cloneGroup,d.cloneGroup),lockGroup:Be(Se.lockGroup,d.lockGroup),removeGroup:Be(Se.removeGroup,d.removeGroup),body:Be(Se.body,d.body)}),[d.addGroup,d.addRule,d.body,d.cloneGroup,d.combinators,d.dragHandle,d.header,d.lockGroup,d.notToggle,d.removeGroup,R]);rn(Y,!!(C||s||g||v||p));const He=U=>{z||I("combinator",U,t)},Ve=(U,K)=>{z||I("combinator",U,t.concat([K]))},je=U=>{z||I("not",U,t)},ve=(U,K)=>{if(U.preventDefault(),U.stopPropagation(),!z){const Qe=q();ce(Qe,t,K)}},_e=(U,K)=>{if(U.preventDefault(),U.stopPropagation(),!z){const Qe=W();ye(Qe,t,K)}},Te=U=>{if(U.preventDefault(),U.stopPropagation(),!z){const K=[...Rt(t),t[t.length-1]+1];O(t,K,!0)}},de=U=>{U.preventDefault(),U.stopPropagation(),I("disabled",!z,t)},we=U=>{U.preventDefault(),U.stopPropagation(),z||ee(t)},Ne=t.length,Ae=F[e??""],Ge=en(Ae),oe=le.useMemo(()=>{var U;return V?null:((U=Zr(f,se))==null?void 0:U.className)??""},[se,f,V]),ne=Be(te(fe),oe,Se.ruleGroup,d.ruleGroup,{[Se.disabled]:z,[Se.dndDragging]:y},Ge);return _t("div",{ref:g,className:ne,"data-testid":Ue.ruleGroup,"data-dragmonitorid":C,"data-dropmonitorid":s,"data-rule-group-id":e,"data-level":Ne,"data-path":JSON.stringify(t),children:[_t("div",{ref:p,className:he.header,children:[Ne>0&&pe(_,{testID:Ue.dragHandle,ref:v,level:Ne,path:t,title:n.dragHandle.title,label:n.dragHandle.label,className:he.dragHandle,disabled:z,context:u,validation:Ae}),!$&&!V&&pe(N,{testID:Ue.combinators,options:f,value:se,title:n.combinators.title,className:he.combinators,handleOnChange:He,rules:ue,level:Ne,path:t,disabled:z,context:u,validation:Ae}),J&&pe(P,{testID:Ue.notToggle,className:he.notToggle,title:n.notToggle.title,label:n.notToggle.label,checked:Ee,handleOnChange:je,level:Ne,disabled:z,path:t,context:u,validation:Ae}),pe(A,{testID:Ue.addRule,label:n.addRule.label,title:n.addRule.title,className:he.addRule,handleOnClick:ve,rules:ue,level:Ne,path:t,disabled:z,context:u,validation:Ae,ruleOrGroup:fe}),pe(Q,{testID:Ue.addGroup,label:n.addGroup.label,title:n.addGroup.title,className:he.addGroup,handleOnClick:_e,rules:ue,level:Ne,path:t,disabled:z,context:u,validation:Ae,ruleOrGroup:fe}),X&&t.length>=1&&pe(T,{testID:Ue.cloneGroup,label:n.cloneRuleGroup.label,title:n.cloneRuleGroup.title,className:he.cloneGroup,handleOnClick:Te,rules:ue,level:Ne,path:t,disabled:z,context:u,validation:Ae,ruleOrGroup:fe}),ge&&pe(x,{testID:Ue.lockGroup,label:n.lockGroup.label,title:n.lockGroup.title,className:he.lockGroup,handleOnClick:de,rules:ue,level:Ne,path:t,disabled:z,disabledTranslation:h?void 0:n.lockGroupDisabled,context:u,validation:Ae,ruleOrGroup:fe}),t.length>=1&&pe(w,{testID:Ue.removeGroup,label:n.removeGroup.label,title:n.removeGroup.title,className:he.removeGroup,handleOnClick:we,rules:ue,level:Ne,path:t,disabled:z,context:u,validation:Ae,ruleOrGroup:fe})]}),pe("div",{className:he.body,children:ue.map((U,K)=>{const Qe=[...t,K],at=z||typeof U!="string"&&U.disabled||M.some(Xe=>un(Qe,Xe)),dt=typeof U=="string"?[...Qe,U].join("-"):U.id;return _t(le.Fragment,{children:[K>0&&!V&&$&&pe(k,{options:f,value:se,title:n.combinators.title,className:he.combinators,handleOnChange:He,rules:ue,level:Ne,context:u,validation:Ae,component:N,path:Qe,disabled:z,independentCombinators:V}),typeof U=="string"?pe(k,{options:f,value:U,title:n.combinators.title,className:he.combinators,handleOnChange:Xe=>Ve(Xe,K),rules:ue,level:Ne,context:u,validation:Ae,component:N,path:Qe,disabled:at,independentCombinators:V}):"rules"in U?pe(B,{id:U.id,schema:o,actions:c,path:Qe,translations:n,ruleGroup:U,rules:U.rules,combinator:"combinator"in U?U.combinator:void 0,not:!!U.not,disabled:at,parentDisabled:h||z,context:u}):pe(j,{id:U.id,rule:U,field:U.field,operator:U.operator,value:U.value,valueSource:U.valueSource,schema:o,actions:c,path:Qe,disabled:at,parentDisabled:h||z,translations:n,context:u})]},dt)})})]})};dn.displayName="RuleGroup";const hn=le.forwardRef(({className:e,label:t,title:r,testID:n},o)=>pe("span",{"data-testid":n,ref:o,className:e,title:r,children:t}));hn.displayName="DragHandle";const pn=({className:e,handleOnChange:t,title:r,label:n,checked:o,disabled:c,testID:E})=>_t("label",{"data-testid":E,className:e,title:r,children:[pe("input",{type:"checkbox",onChange:h=>t(h.target.checked),checked:!!o,disabled:c}),n]});pn.displayName="NotToggle";const Et=({className:e,handleOnChange:t,options:r,title:n,value:o,multiple:c,listsAsArrays:E,disabled:h,testID:u})=>{const S=le.useMemo(()=>c?b=>{const m=Array.from(b.target.selectedOptions).map(C=>C.value);t(E?m:Xt(m,","))}:b=>t(b.target.value),[t,E,c]);return pe("select",{"data-testid":u,className:e,value:c?tt(o):o,title:n,disabled:h,multiple:!!c,onChange:S,children:Ps(r)})};Et.displayName="ValueSelector";const yn=({operator:e,value:t,handleOnChange:r,title:n,className:o,type:c,inputType:E,values:h=[],listsAsArrays:u,fieldData:S,disabled:b,testID:m,...C})=>{if(Ns({handleOnChange:r,inputType:E,operator:e,value:t}),e==="null"||e==="notNull")return null;const s=(S==null?void 0:S.placeholder)??"",g=["between","notBetween","in","notIn"].includes(e)?"text":E||"text";if((e==="between"||e==="notBetween")&&c==="select"){const v=tt(t),p=R=>{var f;const d=[R,v[1]??((f=h[0])==null?void 0:f.name),...v.slice(2)];r(u?d:Xt(d,","))},y=R=>{const d=[v[0],R,...v.slice(2)];r(u?d:Xt(d,","))};return _t("span",{"data-testid":m,className:o,title:n,children:[pe(Et,{...C,className:Se.valueListItem,handleOnChange:p,disabled:b,value:v[0],options:h,listsAsArrays:u}),pe(Et,{...C,className:Se.valueListItem,handleOnChange:y,disabled:b,value:v[1],options:h,listsAsArrays:u})]})}switch(c){case"select":case"multiselect":return pe(Et,{...C,testID:m,className:o,title:n,handleOnChange:r,disabled:b,value:t,options:h,multiple:c==="multiselect",listsAsArrays:u});case"textarea":return pe("textarea",{"data-testid":m,placeholder:s,value:t,title:n,className:o,disabled:b,onChange:v=>r(v.target.value)});case"switch":case"checkbox":return pe("input",{"data-testid":m,type:"checkbox",className:o,title:n,onChange:v=>r(v.target.checked),checked:!!t,disabled:b});case"radio":return pe("span",{"data-testid":m,className:o,title:n,children:h.map(v=>_t("label",{children:[pe("input",{type:"radio",value:v.name,disabled:b,checked:t===v.name,onChange:p=>r(p.target.value)}),v.label]},v.name))})}return pe("input",{"data-testid":m,type:g,placeholder:s,value:t,title:n,className:o,disabled:b,onChange:v=>r(v.target.value)})};yn.displayName="ValueEditor";const xs={addGroupAction:mt,removeGroupAction:mt,cloneGroupAction:mt,cloneRuleAction:mt,addRuleAction:mt,removeRuleAction:mt,combinatorSelector:Et,inlineCombinator:Kr,fieldSelector:Et,operatorSelector:Et,valueEditor:yn,notToggle:pn,ruleGroup:dn,rule:fn,dragHandle:hn,lockRuleAction:mt,lockGroupAction:mt,valueSourceSelector:Et},qo=()=>{},mn=({defaultQuery:e,query:t,fields:r,operators:n=ls,combinators:o=Lt,translations:c=Er,enableMountQueryChange:E=!0,controlClassnames:h,controlElements:u,getDefaultField:S,getDefaultOperator:b,getDefaultValue:m,getOperators:C,getValueEditorType:s,getValueSources:g,getInputType:v,getValues:p,getRuleClassname:y=()=>"",getRuleGroupClassname:R=()=>"",onAddRule:d=Y=>Y,onAddGroup:f=Y=>Y,onRemove:_=()=>!0,onQueryChange:N=qo,showCombinatorsBetweenRules:k=!1,showNotToggle:P=!1,showCloneButtons:A=!1,showLockButtons:Q=!1,resetOnFieldChange:T=!0,resetOnOperatorChange:x=!1,autoSelectField:w=!0,autoSelectOperator:B=!0,addRuleToNewGroups:j=!1,enableDragAndDrop:q,independentCombinators:W,listsAsArrays:V=!1,disabled:$=!1,validator:J,context:X,debugMode:ge=!1,onLog:F=console.log,idGenerator:M=exports.generateID})=>{const Y=Cs({controlClassnames:h,controlElements:u,debugMode:ge,enableDragAndDrop:q,enableMountQueryChange:E,translations:c}),{controlClassnames:te,controlElements:ye,debugMode:ee,enableDragAndDrop:I,enableMountQueryChange:ce,translations:O}=Y,z=le.useMemo(()=>({id:O.fields.placeholderName,name:O.fields.placeholderName,label:O.fields.placeholderLabel}),[O.fields.placeholderLabel,O.fields.placeholderName]),fe=le.useMemo(()=>r??[z],[z,r]),ue=le.useMemo(()=>{const G=Array.isArray(fe)?fe:et(fe).map(H=>({...fe[H],name:H})).sort((H,Z)=>H.label.localeCompare(Z.label));return ft(G)?mr(w?G:[{label:O.fields.placeholderGroupLabel,options:[z]},...G]):xt(w?G:[z,...G])},[w,z,fe,O.fields.placeholderGroupLabel]),Ee=le.useMemo(()=>{if(!Array.isArray(fe)){const H={};return et(fe).forEach(Z=>H[Z]={...fe[Z],name:Z}),w?H:{...H,[O.fields.placeholderName]:z}}const G={};return ft(ue)?ue.forEach(H=>H.options.forEach(Z=>G[Z.name]=Z)):ue.forEach(H=>G[H.name]=H),G},[w,z,ue,fe,O.fields.placeholderName]),se=le.useMemo(()=>({id:O.operators.placeholderName,name:O.operators.placeholderName,label:O.operators.placeholderLabel}),[O.operators.placeholderLabel,O.operators.placeholderName]),he=le.useCallback(G=>{const H=Ee[G];let Z=n;if(H!=null&&H.operators)Z=H.operators;else if(C){const Ie=C(G);Ie&&(Z=Ie)}return B||(ft(Z)?Z=[{label:O.operators.placeholderGroupLabel,options:[se]},...Z]:Z=[se,...Z]),ft(Z)?mr(Z):xt(Z)},[B,se,Ee,C,n,O.operators.placeholderGroupLabel]),He=le.useCallback(G=>{const H=Ee[G];if(H!=null&&H.defaultOperator)return H.defaultOperator;if(b)return typeof b=="function"?b(G):b;const Z=he(G)??[];return Z.length?It(Z)??"":""},[Ee,b,he]),Ve=le.useCallback((G,H)=>{if(s){const Z=s(G,H);if(Z)return Z}return"text"},[s]),je=le.useCallback((G,H)=>_r(Ee[G],H,g),[Ee,g]),ve=le.useCallback((G,H)=>{const Z=Ee[G];if(Z!=null&&Z.values)return Z.values;if(p){const Ie=p(G,H);if(Ie)return Ie}return[]},[Ee,p]),_e=le.useCallback(G=>{const H=Ee[G.field];if((H==null?void 0:H.defaultValue)!==void 0&&H.defaultValue!==null)return H.defaultValue;if(m)return m(G);let Z="";const Ie=ve(G.field,G.operator),rt=ht=>{const Ot=It(ht);if(G.operator==="between"||G.operator==="notBetween"){const gt=[Ot,Ot];return V?gt:Xt(gt.map(Dt=>Dt??""),",")}else return Ot};if(G.valueSource==="field"){const ht=Ar(H,ue,G.operator);ht.length>0?Z=rt(ht):Z=""}else Ie.length?Z=rt(Ie):Ve(G.field,G.operator)==="checkbox"&&(Z=!1);return Z},[Ee,ue,m,Ve,ve,V]),Te=le.useCallback((G,H)=>{if(v){const Z=v(G,H);if(Z)return Z}return"text"},[v]),de=le.useCallback(()=>{let G="";(ue==null?void 0:ue.length)>0&&ue[0]&&(G=It(ue)??""),S&&(typeof S=="function"?G=S(ue):G=S);const H=He(G),Z=je(G,H)[0]??"value",Ie={id:M(),field:G,operator:H,valueSource:Z,value:""},rt=_e(Ie);return{...Ie,value:rt}},[ue,S,He,_e,je,M]),we=le.useCallback(()=>W?{id:M(),rules:j?[de()]:[],not:!1}:{id:M(),rules:j?[de()]:[],combinator:It(o)??"",not:!1},[j,o,de,M,W]),Ne=le.useRef(!0),[Ae,Ge]=le.useState(e?nr(e,{idGenerator:M}):we()),oe=t?Ne.current?nr(t,{idGenerator:M}):t:Ae;gs({defaultQuery:e,queryProp:t,isFirstRender:Ne.current}),Ne.current=!1,le.useEffect(()=>{ce&&N(oe)},[]);const ne=!t,U=le.useCallback(G=>{ne&&Ge(G),N(G)},[N,ne]),K=le.useMemo(()=>$===!0||Array.isArray($)&&$.some(G=>G.length===0),[$]),Qe=le.useMemo(()=>Array.isArray($)&&$||[],[$]),at=(G,H,Z)=>{if(Mt(H,oe)||K){ee&&F({type:yt.parentPathDisabled,rule:G,parentPath:H,query:oe});return}const Ie=d(G,H,oe,Z);if(!Ie){ee&&F({type:yt.onAddRuleFalse,rule:G,parentPath:H,query:oe});return}const rt=zr(oe,Ie,H,{combinators:o,combinatorPreceding:Ie.combinatorPreceding??void 0});U(rt)},dt=(G,H,Z)=>{if(Mt(H,oe)||K){ee&&F({type:yt.parentPathDisabled,ruleGroup:G,parentPath:H,query:oe});return}const Ie=f(G,H,oe,Z);if(!Ie){ee&&F({type:yt.onAddGroupFalse,ruleGroup:G,parentPath:H,query:oe});return}const rt=zr(oe,Ie,H,{combinators:o,combinatorPreceding:Ie.combinatorPreceding??void 0});U(rt)},Xe=(G,H,Z)=>{if(Mt(Z,oe)&&G!=="disabled"||K){ee&&F({type:yt.pathDisabled,path:Z,prop:G,value:H,query:oe});return}const Ie=Ls(oe,G,H,Z,{resetOnFieldChange:T,resetOnOperatorChange:x,getRuleDefaultOperator:He,getValueSources:je,getRuleDefaultValue:_e});U(Ie)},Fe=(G,H)=>{if(Mt(G,oe)||K){ee&&F({type:yt.pathDisabled,path:G,query:oe});return}const Z=bt(G,oe);if(Z)if(_(Z,G,oe,H)){const Ie=Ts(oe,G);U(Ie)}else ee&&F({type:yt.onRemoveFalse,ruleOrGroup:Z,path:G,query:oe})},Me=(G,H,Z)=>{if(Mt(G,oe)||K){ee&&F({type:yt.pathDisabled,oldPath:G,newPath:H,query:oe});return}const Ie=ws(oe,G,H,{clone:Z,combinators:o});U(Ie)},{validationResult:it,validationMap:St}=le.useMemo(()=>{const G=typeof J=="function"?J(oe):{};return{validationResult:G,validationMap:typeof G=="object"?G:{}}},[oe,J]),st=le.useMemo(()=>({fields:ue,fieldMap:Ee,combinators:o,classNames:te,createRule:de,createRuleGroup:we,controls:ye,getOperators:he,getValueEditorType:Ve,getValueSources:je,getInputType:Te,getValues:ve,getRuleClassname:y,getRuleGroupClassname:R,showCombinatorsBetweenRules:k,showNotToggle:P,showCloneButtons:A,showLockButtons:Q,autoSelectField:w,autoSelectOperator:B,addRuleToNewGroups:j,enableDragAndDrop:I,independentCombinators:!!W,listsAsArrays:V,validationMap:St,disabledPaths:Qe}),[j,w,B,o,te,ye,de,we,Qe,I,Ee,ue,Te,he,y,R,Ve,ve,je,W,V,A,k,Q,P,St]),Ct={onRuleAdd:at,onGroupAdd:dt,onRuleRemove:Fe,onGroupRemove:Fe,onPropChange:Xe,moveRule:Me},Nt=le.useMemo(()=>Be(Se.queryBuilder,Be(te.queryBuilder),{[Se.disabled]:oe.disabled||K,[Se.valid]:typeof it=="boolean"&&it,[Se.invalid]:typeof it=="boolean"&&!it}),[te.queryBuilder,K,oe.disabled,it]);le.useEffect(()=>{ee&&F({type:yt.queryUpdate,query:oe,queryState:Ae,schema:st})},[ee,F,Ae,oe,st]);const{ruleGroup:Tt}=ye;return pe(jt.QueryBuilderContext.Provider,{value:Y,children:pe("div",{className:Nt,"data-dnd":I?"enabled":"disabled","data-inlinecombinators":W||k?"enabled":"disabled",children:pe(Tt,{translations:O,ruleGroup:oe,rules:oe.rules,combinator:"combinator"in oe?oe.combinator:void 0,not:!!oe.not,schema:st,actions:Ct,id:oe.id,path:[],disabled:!!oe.disabled||K,parentDisabled:K,context:X})})},I?"dnd":"no-dnd")};mn.displayName="QueryBuilder";exports.ActionElement=mt;exports.DragHandle=hn;exports.InlineCombinator=Kr;exports.LogType=yt;exports.NotToggle=pn;exports.QueryBuilder=mn;exports.Rule=fn;exports.RuleGroup=dn;exports.TestID=Ue;exports.ValueEditor=yn;exports.ValueSelector=Et;exports.add=zr;exports.c=qs;exports.convertFromIC=Zt;exports.convertQuery=Js;exports.convertToIC=sr;exports.default=mn;exports.defaultCELValueProcessor=so;exports.defaultCombinators=Lt;exports.defaultCombinatorsExtended=Us;exports.defaultControlClassnames=us;exports.defaultControlElements=xs;exports.defaultJoinChar=Or;exports.defaultMongoDBValueProcessor=no;exports.defaultOperatorNegationMap=Xr;exports.defaultOperators=ls;exports.defaultPlaceholderFieldGroupLabel=os;exports.defaultPlaceholderFieldLabel=ss;exports.defaultPlaceholderFieldName=gr;exports.defaultPlaceholderOperatorGroupLabel=is;exports.defaultPlaceholderOperatorLabel=as;exports.defaultPlaceholderOperatorName=vr;exports.defaultRuleProcessorCEL=er;exports.defaultRuleProcessorJsonLogic=Jr;exports.defaultRuleProcessorMongoDB=tr;exports.defaultRuleProcessorSpEL=rr;exports.defaultSpELValueProcessor=oo;exports.defaultTranslations=Er;exports.defaultValidator=Ys;exports.defaultValueProcessor=ro;exports.defaultValueProcessorByRule=Rr;exports.defaultValueProcessorCELByRule=ao;exports.defaultValueProcessorMongoDBByRule=io;exports.defaultValueProcessorSpELByRule=lo;exports.findPath=bt;exports.formatQuery=eo;exports.getCommonAncestorPath=ks;exports.getCompatContextProvider=uo;exports.getFirstOption=It;exports.getOption=Zr;exports.getParentPath=Rt;exports.groupInvalidReasons=yr;exports.internal=Qo;exports.isAncestor=Uo;exports.isOptionGroupArray=ft;exports.isRuleGroup=nn;exports.isRuleGroupType=Kt;exports.isRuleGroupTypeIC=Es;exports.isRuleOrGroupValid=ct;exports.isValidationResult=Yr;exports.joinWith=Xt;exports.jsonLogicAdditionalOperators=Xs;exports.mergeClassnames=sn;exports.messages=Hs;exports.move=ws;exports.nullFreeArray=Qs;exports.objectKeys=et;exports.parseCEL=Co;exports.parseJsonLogic=Do;exports.parseMongoDB=$o;exports.parseSQL=Wo;exports.pathIsDisabled=Mt;exports.pathsAreEqual=un;exports.prepareRule=cn;exports.prepareRuleGroup=nr;exports.prepareRuleOrGroup=Is;exports.remove=Ts;exports.splitBy=vs;exports.standardClassnames=Se;exports.toArray=tt;exports.toOptions=Ps;exports.transformQuery=Ho;exports.trimIfString=Ye;exports.update=Ls;exports.useMergedContext=Cs;exports.usePreferProp=br;exports.useValueEditor=Ns;exports.version=Fs;for(const e in jt)e!=="default"&&!exports.hasOwnProperty(e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>jt[e]});
//# sourceMappingURL=index.cjs.js.map
